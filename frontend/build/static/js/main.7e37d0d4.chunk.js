(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t){e.exports={API_URL:"http://localhost:4000"}},330:function(e,t,a){e.exports=a(635)},335:function(e,t,a){},633:function(e,t,a){},635:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(32),l=a.n(o),r=(a(335),a(8)),i=a(9),c=a(11),m=a(10),d=a(12),p=a(700),u=a(692),h=a(706),g=a(165),E=a.n(g),f=a(2),b=a.n(f);b.a.defaults.baseURL=a(24).API_URL;var y=function(e){e?b.a.defaults.headers.common.Authorization=e:delete b.a.defaults.headers.common.Authorization},v=a(24).API_URL,w=function(e){return function(t){b.a.post(v+"/api/users/forgot",e).then(function(e){return window.location.href="/forgot-success"}).catch(function(e){return t({type:"GET_ERRORS",payload:e.response.data})})}},x=function(e){return{type:"SET_CURRENT_USER",payload:e}},S=function(){return function(e){localStorage.removeItem("jwtToken"),y(!1),e(x({}))}},N=a(7),k=a(64),C=a(319),O=a(214),j=a(363),T={isAuthenticated:!1,user:{},loading:!1},A={},I=Object(k.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(O.a)({},e,{isAuthenticated:!j(t.payload),user:t.payload});case"USER_LOADING":return Object(O.a)({},e,{loading:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}}}),P=[C.a],B=Object(k.e)(I,{},Object(k.d)(k.a.apply(void 0,P),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__()||k.d)),D=a(24).API_URL,_=window.location.pathname.split("/").pop(),R=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.componentDidMount=function(){""===_||"login"===_||"register"===_||"all-courses"===_||"forgot"===_||"forgot-change-password"===_||b.a.get(D+"/api/admin/security/check-point",{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){1===e.data.length||a.props.logoutUser()}).catch(function(e){})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user;return s.a.createElement("div",{className:"nav-master-div",style:{position:"absolute"}},s.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("a",{className:"navbar-brand",href:"/"},s.a.createElement("img",{src:"/img/nav-logo.png",className:"navlogo",alt:"mernAuth Logo"})),s.a.createElement("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},s.a.createElement("span",{className:"navbar-toggler-icon"})),s.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},s.a.createElement("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0"},s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link",href:"/"},"mernAuth")),s.a.createElement("div",{className:"navDash"},1===e.role?s.a.createElement("li",{className:"nav-item"},s.a.createElement("div",{className:"text-master-btn con-mid"},s.a.createElement("a",{className:"nav-link btn-text",href:"/admin"},"Admin"))):2===e.role?s.a.createElement("li",{className:"nav-item"},s.a.createElement("div",{className:"text-master-btn con-mid"},s.a.createElement("a",{className:"nav-link btn-text",href:"/instructor"},"Admin Role 2"))):(e.role,s.a.createElement("li",{className:"nav-item"},s.a.createElement("div",{className:"text-master-btn con-mid"},s.a.createElement("a",{className:"nav-link btn-text",href:"/all-courses"},"Items")))))),e.name?s.a.createElement("form",{className:"d-flex"},s.a.createElement("a",{href:"/all-courses",style:{width:"100%"},className:"btn text-master-btn con-mid",title:"Sign in"},s.a.createElement("span",{className:"btn-text"},s.a.createElement("b",null,e.email))),1===e.role?s.a.createElement("a",{href:"/admin/settings/password",className:"btn icon-master-btn con-mid",style:{marginLeft:"10px"},title:"Log out"},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"settings")):2===e.role?s.a.createElement("a",{href:"/instructor/settings/password",className:"btn icon-master-btn con-mid",style:{marginLeft:"10px"},title:"Log out"},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"settings")):s.a.createElement("a",{href:"/user/settings/password",className:"btn icon-master-btn con-mid",style:{marginLeft:"10px"},title:"Log out"},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"settings")),s.a.createElement("button",{onClick:this.onLogoutClick,className:"btn icon-master-btn con-mid",style:{marginLeft:"10px"},title:"Log out"},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"logout"))):s.a.createElement("form",{className:"d-flex"},s.a.createElement("a",{href:"/login",className:"btn text-master-btn con-mid",title:"Sign in"},s.a.createElement("span",{className:"btn-text"},s.a.createElement("b",null,"Sign in"))),s.a.createElement("a",{href:"/register",className:"btn text-master-btn con-mid",title:"Sign up",style:{marginLeft:"10px"}},s.a.createElement("span",{className:"btn-text"},s.a.createElement("b",null,"Sign up"))))))))}}]),t}(n.Component),L=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(R),U=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{style:{width:"100vw",minHeight:"calc(100vh - 58px)"},className:"con-mid"},s.a.createElement("h1",null,"Landing Page"))}}]),t}(n.Component),H=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(U),z=a(699),M=a(707),V=a(701),F=a(24).API_URL,W=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={loading:!1,courses:[]},a.componentDidMount=function(){a.setState({loading:!0}),b.a.get(F+"/api/u/pub-courses",{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){var t=e.data;t.sort(),a.setState({courses:t}),a.setState({loading:!1})}).catch(function(e){a.setState({loading:!1},function(){})})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user;return 1===e.role?s.a.createElement(z.a,{to:"/admin"}):2===e.role?s.a.createElement(z.a,{to:"/instructor"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("a",{href:"/",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("h4",null,"All courses"))),s.a.createElement("div",{style:{minHeight:"calc(100vh - 179px)",marginTop:"20px",marginBottom:"50px"}},this.state.loading?s.a.createElement("div",{className:"row blocs"},s.a.createElement("div",{className:"col-sm-4"},s.a.createElement("div",{style:{width:"100%"}},s.a.createElement(V.a,{style:{width:"100%",height:"225px"}}))),s.a.createElement("div",{className:"col-sm-4"},s.a.createElement("div",{style:{width:"100%"}},s.a.createElement(V.a,{style:{width:"100%",height:"225px"}}))),s.a.createElement("div",{className:"col-sm-4"},s.a.createElement("div",{style:{width:"100%"}},s.a.createElement(V.a,{style:{width:"100%",height:"225px"}}))),s.a.createElement("div",{className:"col-sm-4"},s.a.createElement("div",{style:{width:"100%"}},s.a.createElement(V.a,{style:{width:"100%",height:"225px"}}))),s.a.createElement("div",{className:"col-sm-4"},s.a.createElement("div",{style:{width:"100%"}},s.a.createElement(V.a,{style:{width:"100%",height:"225px"}}))),s.a.createElement("div",{className:"col-sm-4"},s.a.createElement("div",{style:{width:"100%"}},s.a.createElement(V.a,{style:{width:"100%",height:"225px"}})))):s.a.createElement("div",{className:"row blocs"},this.state.courses.map(function(e){return s.a.createElement("div",{id:e._id,className:"col-sm-4"},s.a.createElement("div",{className:"form-box",style:{width:"100%"}},s.a.createElement("div",{className:"form-inner"},s.a.createElement("h4",{style:{fontSize:"18px"}},e.name),0===e.fee?s.a.createElement("p",null,"Course Fee: ",s.a.createElement("span",{className:"badge badge-success"},"Free")):s.a.createElement("p",null,"Course Fee: ",s.a.createElement("b",null,"LKR ",e.fee.toString().split(".")[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),".00")),s.a.createElement("hr",{className:"adminDashHr"}),s.a.createElement("div",{style:{width:"100%"},className:"con-right"},s.a.createElement("a",{href:"/course-payment/"+e._id,className:"btn btn-full-blue",style:{width:"150px",maxWidth:"100%"}},"Proceed")))))})))))))}}]),t}(n.Component),G=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(W),Z=a(13),q=a(705),J=a(6),K=a.n(J),X=a(309),Y=a(708),$=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){e.setState(Object(Z.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){e.setState({loading:!0}),t.preventDefault();var a={name:e.state.name,tel:e.state.tel,email:e.state.email,password:e.state.password,password2:e.state.password2};e.props.registerUser(a,e.props.history)},e.state={name:"",tel:"",email:"",password:"",password2:"",loading:!1,errors:{}},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&(this.setState({loading:!1}),this.props.history.push("/dashboard"))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.errors&&(this.setState({loading:!1}),this.setState({errors:e.errors}))}},{key:"render",value:function(){var e=this.state.errors;return s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s8 offset-s2"},s.a.createElement("div",{className:"login-card form-card con-mid"},s.a.createElement("div",{className:"form-box",style:{marginTop:"70px",marginBottom:"50px"}},s.a.createElement("div",{className:"form-inner"},s.a.createElement("div",{className:"col s12"},s.a.createElement("h4",null,s.a.createElement("b",null,"Register")," below"),s.a.createElement("br",null),s.a.createElement("p",{className:"grey-text text-darken-1"},"Already have an account? ",s.a.createElement("a",{style:{color:"#007FFF"},href:"/login"},"Log in"))),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{variant:"filled",style:{width:"100%"},label:"Name",onChange:this.onChange,value:this.state.name,error:e.name,id:"name",type:"text",className:K()("",{invalid:e.name})}),s.a.createElement("span",{className:"red-text"},e.name)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{variant:"filled",style:{width:"100%"},label:"Contact number",onChange:this.onChange,value:this.state.tel,error:e.tel,id:"tel",type:"text",className:K()("",{invalid:e.tel})}),s.a.createElement("span",{className:"red-text"},e.tel)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{variant:"filled",style:{width:"100%"},label:"Email",onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:K()("",{invalid:e.email})}),s.a.createElement("span",{className:"red-text"},e.email)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{variant:"filled",style:{width:"100%"},label:"Password",onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:K()("",{invalid:e.password})}),s.a.createElement("span",{className:"red-text"},e.password)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{variant:"filled",style:{width:"100%"},label:"Confirm Password",onChange:this.onChange,value:this.state.password2,error:e.password2,id:"password2",type:"password",className:K()("",{invalid:e.password2})}),s.a.createElement("span",{className:"red-text"},e.password2)),s.a.createElement("div",{className:"col s12"},s.a.createElement("button",{style:{width:"100%",height:"48px"},type:"submit",className:"btn btn-full-blue"},!0===this.state.loading?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-4px"}}):"Sign up"))))))))))}}]),t}(n.Component),Q=Object(N.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:function(e,t){return function(a){b.a.post(v+"/api/users/register",e).then(function(e){return t.push("/login")}).catch(function(e){return a({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(q.a)($)),ee=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){e.setState(Object(Z.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){e.setState({loading:!0}),t.preventDefault();var a={email:e.state.email,password:e.state.password};e.props.loginUser(a)},e.state={email:"",loading:!1,password:"",errors:{}},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&(this.setState({loading:!1}),this.props.history.push("/dashboard")),e.errors&&(this.setState({loading:!1}),this.setState({errors:e.errors}))}},{key:"render",value:function(){var e=this.state.errors;return s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement("div",{className:"container"},s.a.createElement("div",{style:{marginTop:"4rem"},className:"row"},s.a.createElement("div",{className:"col s8 offset-s2"},s.a.createElement("div",{className:"login-card form-card con-mid"},s.a.createElement("div",{className:"form-box"},s.a.createElement("div",{className:"form-inner"},s.a.createElement("div",{className:"col s12"},s.a.createElement("h4",{style:{color:"#000000"}},s.a.createElement("b",null,"Sign in")," below"),s.a.createElement("p",{className:"grey-text text-darken-1",style:{fontSize:"14px",padding:"10px 0 0 0"}},"Don't have an account? ",s.a.createElement("a",{href:"/register",style:{color:"#007FFF",textDecoration:"none"}},"Sign up"))),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"input-field col s12",style:{marginBottom:"24px"}},s.a.createElement(X.a,{id:"email",label:"Email",variant:"filled",type:"email",onChange:this.onChange,value:this.state.email,error:e.email,style:{width:"100%"},className:K()("",{invalid:e.email||e.emailnotfound})}),s.a.createElement("span",{className:"red-text"},e.email,e.emailnotfound)),s.a.createElement("div",{className:"input-field col s12"},s.a.createElement(X.a,{id:"password",label:"Password",variant:"filled",type:"password",onChange:this.onChange,value:this.state.password,error:e.password,style:{width:"100%"},className:K()("",{invalid:e.password||e.passwordincorrect})}),s.a.createElement("span",{className:"red-text"},e.password,e.passwordincorrect),s.a.createElement("p",{className:"grey-text text-darken-1"},s.a.createElement("a",{className:"forgot-pw",href:"/forgot"},"Forgot Password?"))),s.a.createElement("div",{className:"col s12"},s.a.createElement("button",{style:{width:"100%",marginTop:"1rem",height:"48px"},type:"submit",className:"btn btn-full-blue"},!0===this.state.loading?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-4px"}}):"Sign in"))))))))))}}]),t}(n.Component),te=Object(N.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:function(e){return function(t){b.a.post(v+"/api/users/login",e).then(function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),y(a);var n=E()(a);t(x(n))}).catch(function(e){return t({type:"GET_ERRORS",payload:e.response.data})})}}})(ee),ae=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){e.setState(Object(Z.a)({},t.target.id,t.target.value)),document.getElementById("submitBtn").innerHTML="Submit"},e.onSubmit=function(t){e.setState({isLoading:!0}),document.getElementById("submitBtn").innerHTML="Loading...",t.preventDefault();var a={email:e.state.email};e.props.forgotPassword(a)},e.state={email:"",isLoading:!1,errors:{},success:{}},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&(this.setState({isLoading:!1}),this.props.history.push("/dashboard")),e.errors&&(this.setState({errors:e.errors}),this.setState({isLoading:!1}))}},{key:"render",value:function(){var e=this.state.errors;return e.requestSent&&(document.getElementById("submitBtn").innerHTML="Resend"),s.a.createElement("div",{className:"mother"},!0===this.state.isLoading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s8 offset-s2"},s.a.createElement("div",{className:"login-card form-card con-mid"},s.a.createElement("div",{className:"form-box",style:{marginTop:"50px",marginBottom:"50px"}},s.a.createElement("div",{className:"form-inner"},s.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},s.a.createElement("h4",null,s.a.createElement("b",null,"Forgot")," password"),s.a.createElement("p",{className:"grey-text text-darken-1"},s.a.createElement("a",{href:"/login",style:{color:"#007FFF"}},"Back to login"))),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit,style:{marginTop:"24px"}},s.a.createElement("div",{className:"input-field col s12"},s.a.createElement(X.a,{onChange:this.onChange,variant:"filled",value:this.state.email,error:e.email,label:"Email",id:"email",type:"email",style:{width:"100%"},className:K()("",{invalid:e.email||e.emailnotfound||e.errorsendingemail})}),s.a.createElement("span",{className:"red-text"},e.email||e.emailnotfound||e.errorsendingemail),s.a.createElement("span",{className:"green-text"},e.requestSent)),s.a.createElement("div",{style:{marginTop:"24px"}},s.a.createElement("button",{style:{width:"100%",height:"48px"},type:"submit",id:"submitBtn",className:"btn btn-full-blue"},!0===this.state.isLoading?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-4px"}}):"Submit"))))))))))}}]),t}(n.Component),ne=Object(N.b)(function(e){return{auth:e.auth,errors:e.errors,success:e.success}},{forgotPassword:w})(ae),se=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"render",value:function(){return s.a.createElement("div",{className:"mother"},!0===this.state.isLoading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s8 offset-s2"},s.a.createElement("div",{className:"login-card form-card con-mid"},s.a.createElement("div",{className:"form-box",style:{marginTop:"50px",marginBottom:"50px"}},s.a.createElement("div",{className:"form-inner"},s.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},s.a.createElement("h4",null,s.a.createElement("b",null,"Forgot")," password"),s.a.createElement("p",{className:"grey-text text-darken-1"},s.a.createElement("a",{href:"/login",style:{color:"#007FFF"}},"Back to login")),s.a.createElement("p",null,"A password reset link was sent to your email. Click the link to create a new password."),s.a.createElement("br",null),s.a.createElement("p",{style:{width:"100%"},className:"con-right"},s.a.createElement("a",{href:"/forgot",className:"btn btn-full-blue",style:{width:"150px",height:"38px"}},"Resend link"))))))))))}}]),t}(n.Component),oe=Object(N.b)(function(e){return{auth:e.auth,errors:e.errors,success:e.success}},{forgotPassword:w})(se),le=a(24).API_URL,re=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){e.setState(Object(Z.a)({},t.target.id,t.target.value)),e.setState({isLoading:!1})},e.state={isLoading:!1,password:"",password2:"",msg:"",errors:{}},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/dashboard"),e.errors&&(this.setState({errors:e.errors}),this.setState({isLoading:!1}))}},{key:"render",value:function(){var e=this,t=this.state.errors,a=new URLSearchParams(this.props.location.search).get("id");return a?(this.onSubmit=function(t){t.preventDefault(),e.setState({isLoading:!0});var n={tokenId:a,password:e.state.password,password2:e.state.password2};e.props.resetPassword(n,e.props.history)},b.a.get(le+"/api/users/forgot-change-password",{params:{id:a}}).then(function(e){var t=e.data.msg;console.log(t),1===t?(document.getElementById("tokenCheck").style.display="none",document.getElementById("token1").style.display="block",document.getElementById("token2").style.display="none",document.getElementById("topic").style.display="none",document.getElementById("mainForm").style.display="none"):2===t?(document.getElementById("tokenCheck").style.display="none",document.getElementById("token1").style.display="none",document.getElementById("token2").style.display="block",document.getElementById("topic").style.display="none",document.getElementById("mainForm").style.display="none"):200===t?(document.getElementById("tokenCheck").style.display="none",document.getElementById("token1").style.display="none",document.getElementById("token2").style.display="none",document.getElementById("topic").style.display="block",document.getElementById("mainForm").style.display="block"):window.location.replace("/login")}).catch(function(e){return console.log(e)}),s.a.createElement("div",{className:"mother"},!0===this.state.isLoading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s8 offset-s2"},s.a.createElement("div",{className:"login-card form-card con-mid"},s.a.createElement("div",{className:"form-box",style:{marginTop:"50px",marginBottom:"50px"}},s.a.createElement("div",{className:"form-inner"},s.a.createElement("div",{className:"col s12",id:"topic",style:{marginBottom:"24px"}},s.a.createElement("h4",null,s.a.createElement("b",null,"Recover")," password")),s.a.createElement("div",{className:"col s12",id:"tokenCheck"},s.a.createElement("p",null,"Checking...")),s.a.createElement("div",{className:"col s12",style:{display:"none"},id:"token1"},s.a.createElement("h4",null,s.a.createElement("b",null,"Sorry!")),s.a.createElement("h4",null,"Your recovery link has been expired"),s.a.createElement("div",{className:"col s12 con-mid",style:{width:"100%",marginTop:"24px"}},s.a.createElement("a",{style:{width:"150px",height:"35px"},href:"/forgot",className:"btn btn-full-blue"},"Try again"))),s.a.createElement("div",{className:"col s12",style:{display:"none"},id:"token2"},s.a.createElement("h4",null,s.a.createElement("b",null,"Sorry!")," Your account has been deleted")),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit,id:"mainForm",style:{display:"none"}},s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{onChange:this.onChange,variant:"filled",label:"New Password",style:{width:"100%"},value:this.state.password,error:t.password,id:"password",type:"password",className:K()("",{invalid:t.password})}),s.a.createElement("span",{className:"red-text"},t.password)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{onChange:this.onChange,variant:"filled",label:"Confirm Password",style:{width:"100%"},value:this.state.password2,error:t.password2,id:"password2",type:"password",className:K()("",{invalid:t.password2})}),s.a.createElement("span",{className:"red-text"},t.password2||t.invalidtoken||t.accountDelete||t.AdminPassword||t.passwordMissMatch||t.expiredLink)),s.a.createElement("div",{className:"col s12"},s.a.createElement("button",{id:"resetBtn",style:{width:"100%",height:"48px"},type:"submit",className:"btn btn-full-blue"},!0===this.state.isLoading?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-4px"}}):"Reset"))))))))))):s.a.createElement(z.a,{to:"/login"})}}]),t}(n.Component),ie=Object(N.b)(function(e){return{auth:e.auth,errors:e.errors}},{resetPassword:function(e,t){return function(a){b.a.post(v+"/api/users/reset-password",e).then(function(e){return t.push("/login")}).catch(function(e){return a({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(q.a)(re)),ce=a(213),me=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={persons:[]},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):2===e.role?s.a.createElement(z.a,{to:"/instructor"}):s.a.createElement("div",{className:"mother",style:{minHeight:"calc(100vh - 60px)"}},s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"container landing-copy",style:{marginBottom:"50px"}},s.a.createElement("div",{style:{width:"100%",marginBottom:"50px",paddingTop:"50px"},className:"con-mid"},s.a.createElement("h2",null,"Admin Portal")),s.a.createElement("div",{className:"block-body admin-outer-blocs"},s.a.createElement("div",{className:"inner-block-body"},s.a.createElement("div",{className:"row blocs admin-blocs"},s.a.createElement("div",null,s.a.createElement("p",{className:"bold-text"},"Course Management")),s.a.createElement("div",{className:"col-sm-4"},s.a.createElement(ce.a,{href:"/admin/courses",variant:"outlined",className:"admin-box"},s.a.createElement("div",{style:{width:"100%"},className:"con-left"},"Courses"),s.a.createElement("div",{style:{width:"100%"},className:"con-right right-admin-icon"},s.a.createElement("i",{className:"material-icons-outlined"},"school")))),s.a.createElement("div",{className:"col-sm-4"},s.a.createElement(ce.a,{href:"/admin/users/payments",variant:"outlined",className:"admin-box"},s.a.createElement("div",{style:{width:"100%"},className:"con-left"},"Course Payments"),s.a.createElement("div",{style:{width:"100%"},className:"con-right right-admin-icon"},s.a.createElement("i",{className:"material-icons-outlined"},"payments"))))))),s.a.createElement("div",{className:"block-body admin-outer-blocs"},s.a.createElement("div",{className:"inner-block-body"},s.a.createElement("div",{className:"row blocs admin-blocs"},s.a.createElement("div",null,s.a.createElement("p",{className:"bold-text"},"User Management")),s.a.createElement("div",{className:"col-sm-4"},s.a.createElement(ce.a,{href:"/admin/users",variant:"outlined",className:"admin-box"},s.a.createElement("div",{style:{width:"100%"},className:"con-left"},"Users"),s.a.createElement("div",{style:{width:"100%"},className:"con-right right-admin-icon"},s.a.createElement("i",{className:"material-icons-outlined"},"people")))),s.a.createElement("div",{className:"col-sm-4"},s.a.createElement(ce.a,{href:"/admin/instructors",variant:"outlined",className:"admin-box"},s.a.createElement("div",{style:{width:"100%"},className:"con-left"},"Instructors"),s.a.createElement("div",{style:{width:"100%"},className:"con-right right-admin-icon"},s.a.createElement("i",{className:"material-icons-outlined"},"record_voice_over")))),s.a.createElement("div",{className:"col-sm-4"},s.a.createElement(ce.a,{href:"/admin/super-admins",variant:"outlined",className:"admin-box"},s.a.createElement("div",{style:{width:"100%"},className:"con-left"},"Admins"),s.a.createElement("div",{style:{width:"100%"},className:"con-right right-admin-icon"},s.a.createElement("i",{className:"material-icons-outlined"},"admin_panel_settings"))))))),s.a.createElement("div",{className:"block-body admin-outer-blocs"},s.a.createElement("div",{className:"inner-block-body"},s.a.createElement("div",{className:"row blocs admin-blocs"},s.a.createElement("div",null,s.a.createElement("p",{className:"bold-text"},"Site Management")),s.a.createElement("div",{className:"col-sm-4"},s.a.createElement(ce.a,{href:"/admin/homepage",variant:"outlined",className:"admin-box"},s.a.createElement("div",{style:{width:"100%"},className:"con-left"},"Homepage"),s.a.createElement("div",{style:{width:"100%"},className:"con-right right-admin-icon"},s.a.createElement("i",{className:"material-icons-outlined"},"home")))))))),s.a.createElement("div",{className:"con-mid",style:{width:"100%",marginBottom:"50px"}},s.a.createElement("p",null,"Powered by ",s.a.createElement("a",{target:"_blank",href:"https://www.coduza.com/"},"CODUZA")))))}}]),t}(n.Component),de=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(me),pe=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={persons:[]},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):1===e.role?s.a.createElement(z.a,{to:"/admin"}):s.a.createElement("div",{className:"mother"},s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"container landing-copy"},s.a.createElement("div",{style:{width:"100%",marginBottom:"50px",paddingTop:"50px"},className:"con-mid"},s.a.createElement("h2",null,"Instructor Portal")),s.a.createElement("div",{className:"block-body admin-outer-blocs"},s.a.createElement("div",{className:"inner-block-body"},s.a.createElement("div",{className:"row blocs admin-blocs"},s.a.createElement("div",null,s.a.createElement("p",{className:"bold-text"},"Course Management")),s.a.createElement("div",{className:"col-sm-4"},s.a.createElement(ce.a,{href:"/instructor/courses",variant:"outlined",className:"admin-box"},s.a.createElement("div",{style:{width:"100%"},className:"con-left"},"Courses"),s.a.createElement("div",{style:{width:"100%"},className:"con-right right-admin-icon"},s.a.createElement("i",{className:"material-icons-outlined"},"school")))))))),s.a.createElement("div",{className:"con-mid",style:{width:"100%",marginBottom:"50px"}},s.a.createElement("p",null,"Powered by ",s.a.createElement("a",{target:"_blank",href:"https://www.coduza.com/"},"CODUZA")))))}}]),t}(n.Component),ue=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(pe),he=a(321),ge=Object(N.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,n=Object(he.a)(e,["component","auth"]);return s.a.createElement(u.a,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?s.a.createElement(t,e):s.a.createElement(z.a,{to:"/login"})}}))}),Ee=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):1===e.role?s.a.createElement(z.a,{to:"/admin"}):2===e.role?s.a.createElement(z.a,{to:"/instructor"}):s.a.createElement(z.a,{to:"/"})}}]),t}(n.Component),fe=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(Ee),be=a(693),ye=a(76),ve=a.n(ye),we=a(704),xe=a(694),Se=a(695),Ne=a(24).API_URL,ke=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),Ce=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={process:!1,delProcess:!1,disProcess:!1,eProcess:!1,loading:!1,errorOpen:!1,skeleton:!1,persons:[]},a.componentDidMount=function(){a.setState({skeleton:!0}),a.setState({loading:!0}),b.a.get(Ne+"/api/admin/users",{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({errorOpen:!1}),a.setState({loading:!1}),a.setState({skeleton:!1},function(){});var t=e.data;a.setState({persons:t})}).catch(function(e){a.setState({errorOpen:!0}),a.setState({loading:!1}),a.setState({skeleton:!1},function(){})})},a.delUser=function(e){var t=e.target.id.substring(2);a.setState({loading:!0}),a.setState({delProcess:!0}),console.log(t),window.confirm("Are you sure you want to remove this user permanently?")&&window.confirm("Second Confirmation: Are you sure you want to remove this user permanently?")?(console.log("delete"),b.a.post(Ne+"/api/admin/users/delete",{id:t},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){console.log("deleted"),a.setState({errorOpen:!1}),a.setState({loading:!1}),a.setState({delProcess:!1}),window.location.reload()}).catch(function(e){a.setState({errorOpen:!0}),a.setState({loading:!1}),a.setState({delProcess:!1}),console.log(e)})):(console.log("Deletion aborted"),a.setState({loading:!1}),a.setState({delProcess:!1}))},a.disableUser=function(e){a.setState({loading:!0}),a.setState({disProcess:!0});var t=e.target.id.substring(2);console.log(t),window.confirm("Are you sure you want to disable this user?")?(console.log("disable"),b.a.post(Ne+"/api/admin/users/disable",{id:t},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){console.log("disabled"),a.setState({errorOpen:!1}),a.setState({loading:!1}),a.setState({disProcess:!1}),document.getElementById("d-"+t).style.display="none",document.getElementById("e-"+t).style.display="inline-block",document.getElementById("ab-"+t).style.display="none",document.getElementById("db-"+t).style.display="inline-block"}).catch(function(e){a.setState({errorOpen:!0}),console.log(e),a.setState({loading:!1}),a.setState({disProcess:!1})})):(console.log("Disable aborted"),a.setState({loading:!1}),a.setState({disProcess:!1}))},a.enableUser=function(e){a.setState({loading:!0}),a.setState({eProcess:!0});var t=e.target.id.substring(2);console.log(t),window.confirm("Are you sure you want to enable this user?")?(console.log("enable"),b.a.post(Ne+"/api/admin/users/enable",{id:t},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){console.log("enabled"),a.setState({errorOpen:!1}),a.setState({loading:!1}),a.setState({eProcess:!1}),document.getElementById("e-"+t).style.display="none",document.getElementById("d-"+t).style.display="inline-block",document.getElementById("db-"+t).style.display="none",document.getElementById("ab-"+t).style.display="inline-block"}).catch(function(e){a.setState({errorOpen:!0}),console.log(e),a.setState({loading:!1}),a.setState({eProcess:!1})})):(console.log("Enable aborted"),a.setState({loading:!1}),a.setState({eProcess:!1}))},a.handleClose=function(){a.setState({errorOpen:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.auth.user;if(3===t.role)return s.a.createElement(z.a,{to:"/all-courses"});if(2===t.role)return s.a.createElement(z.a,{to:"/instructor"});var a=[];return this.state.persons.map(function(t){return a.push({name:1===t.status?s.a.createElement("div",null,s.a.createElement("span",{id:"ab-"+t._id},t.name,"\xa0",s.a.createElement("span",{className:"badge badge-success"},"Active")),s.a.createElement("span",{id:"db-"+t._id,style:{display:"none"}},t.name,"\xa0",s.a.createElement("span",{className:"badge badge-danger"},"Disabled"))):s.a.createElement("div",null,s.a.createElement("span",{id:"db-"+t._id},t.name,"\xa0",s.a.createElement("span",{className:"badge badge-danger"},"Disabled")),s.a.createElement("span",{id:"ab-"+t._id,style:{display:"none"}},t.name,"\xa0",s.a.createElement("span",{className:"badge badge-success"},"Active"))),email:t.email,tel:t.tel,actions:s.a.createElement("div",{className:"muiDt"},s.a.createElement("a",{href:"/admin/users/edit/"+t._id,className:"btn btn-full-blue btn-tbl-action"},"Edit"),1===t.status?s.a.createElement("div",{style:{display:"inline-block"}},s.a.createElement("button",{className:"btn btn-full-warn btn-tbl-action",id:"d-"+t._id,style:{display:"inline-block"},onClick:e.disableUser},"Disable"),s.a.createElement("button",{className:"btn btn-full-blue btn-tbl-action",id:"e-"+t._id,style:{display:"none"},onClick:e.enableUser},"Enable")):s.a.createElement("div",{style:{display:"inline-block"}},s.a.createElement("button",{className:"btn btn-full-blue btn-tbl-action",id:"e-"+t._id,style:{display:"inline-block"},onClick:e.enableUser},"Enable"),s.a.createElement("button",{className:"btn btn-full-warn btn-tbl-action",id:"d-"+t._id,style:{display:"none"},onClick:e.disableUser},"Disable")),s.a.createElement("button",{className:"btn btn-full-red btn-tbl-action",id:"r-"+t._id,onClick:e.delUser},"Remove"))})}),s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(we.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(ke,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement(be.a,{to:"/admin",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("h4",null,"Users"))),!0===this.state.skeleton?s.a.createElement("div",{className:"form-box",style:{width:"100%",marginTop:"50px",height:"400px"}},s.a.createElement("div",{className:"form-inner",style:{padding:"10px",height:"100%"}},s.a.createElement("div",{style:{width:"100%",height:"100%"},className:"con-mid"},s.a.createElement(xe.a,null)))):s.a.createElement("div",{className:"form-box",style:{width:"100%",marginTop:"50px"}},s.a.createElement("div",{className:"form-inner",style:{padding:"10px"}},s.a.createElement(ve.a,{title:"Users",data:a,columns:[{name:"name",label:"Name",options:{filter:!0,sort:!0}},{name:"tel",label:"Tel",options:{filter:!0,sort:!1}},{name:"email",label:"Email",options:{filter:!0,sort:!0}},{name:"actions",label:"Actions",options:{filter:!1,sort:!1}}],options:{search:!0,paging:!1,filtering:!0,exportButton:!0,selectableRows:!1}})))))))}}]),t}(n.Component),Oe=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(Ce),je=a(696),Te=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),Ae=a(24).API_URL,Ie=window.location.pathname.split("/").pop(),Pe=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={name:"",tel:"",process:!1,skeleton:!1,loading:!1,errorOpen:!1,errors:{}},a.componentDidMount=function(){a.setState({loading:!0}),a.setState({skeleton:!0}),b.a.get(Ae+"/api/admin/user?id="+Ie,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({loading:!1}),a.setState({skeleton:!1});var t=e.data,n=document.getElementById("name"),s=document.getElementById("tel");n.value=t.name,s.value=t.tel,a.setState({name:t.name}),a.setState({tel:t.tel})}).catch(function(e){a.setState({skeleton:!1}),a.setState({loading:!1},function(){})})},a.onChange=function(e){a.setState(Object(Z.a)({},e.target.id,e.target.value))},a.onSubmit=function(e){a.setState({errors:{}}),a.setState({errorOpen:!1}),a.setState({process:!0});var t={id:Ie,name:a.state.name,tel:a.state.tel,successOpen:!1};b.a.post(Ae+"/api/admin/users/edit",t,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({process:!1}),a.setState({errors:{}}),a.setState({successOpen:!0})}).catch(function(e){a.setState({process:!1}),a.setState({errorOpen:!1}),a.setState({successOpen:!1});var t=e.response.data;a.setState({errors:t}),t.internalError&&(a.setState({successOpen:!1}),a.setState({errorOpen:!0}))}),e.preventDefault()},a.handleClose=function(){a.setState({successOpen:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=this.state.errors;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):2===e.role?s.a.createElement(z.a,{to:"/instructor"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading||this.state.skeleton||!0===this.state.process?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.successOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Te,{severity:"success",sx:{width:"100%"}},"User updated successfully!")),s.a.createElement(je.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Te,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("a",{href:"/admin/users",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("h4",{style:{display:"inline-block"}},"Edit -\xa0",!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"150px",display:"inline-block"}}):this.state.name))),s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"30px 0"}},s.a.createElement("div",{className:"form-box"},s.a.createElement("div",{className:"form-inner"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("h4",{style:{textAlign:"left",marginBottom:"24px"}},"Edit user"),s.a.createElement("div",{style:{marginBottom:"24px"}},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%",height:"53.63px"}}):s.a.createElement(X.a,{id:"name",required:!0,label:"Name",variant:"outlined",style:{width:"100%"},onChange:this.onChange,value:this.state.name,error:t.name,type:"text",placeholder:"",className:K()("",{invalid:t.name})}),s.a.createElement("span",{className:"red-text"},t.name)),s.a.createElement("div",null,!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%",height:"53.63px"}}):s.a.createElement(X.a,{id:"tel",required:!0,label:"Contact Number",variant:"outlined",style:{width:"100%"},onChange:this.onChange,value:this.state.tel,error:t.tel,type:"text",placeholder:"",className:K()("",{invalid:t.tel})}),s.a.createElement("span",{className:"red-text"},t.tel)),s.a.createElement("div",null,s.a.createElement("button",{style:{width:"150px",height:"35px",marginTop:"1rem"},type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Update"))))))))))}}]),t}(n.Component),Be=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(Pe),De=a(237),_e=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),Re=a(24).API_URL,Le=window.location.pathname.split("/").pop(),Ue=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser()},e.componentDidMount=function(){e.setState({loading:!0}),e.setState({skeleton:!0}),e.setState({skeletonTwo:!0}),e.props.auth.isAuthenticated,b.a.get(Re+"/api/admin/instructor?id="+Le,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){e.setState({loading:!1}),e.setState({skeleton:!1});var a=t.data;e.setState({instructor:a})}).catch(function(t){e.setState({loading:!1}),e.setState({skeleton:!1})}),b.a.get(Re+"/api/admin/courses",{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){e.setState({loading:!1}),e.setState({skeleton:!1});var a=t.data;e.setState({courses:a})}).catch(function(t){e.setState({loading:!1}),e.setState({skeleton:!1})}),b.a.get(Re+"/api/admin/assigned?id="+Le,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){e.setState({loading:!1}),e.setState({skeletonTwo:!1});var a=t.data;console.log(a),e.setState({assigned:a})}).catch(function(t){e.setState({loading:!1}),e.setState({skeletonTwo:!1})}),b.a.get(Re+"/api/admin/assignable?id="+Le,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){e.setState({loading:!1}),e.setState({skeleton:!1});var a=t.data;console.log(a),e.setState({assignable:a})}).catch(function(t){e.setState({loading:!1}),e.setState({skeleton:!1})})},e.onChange=function(t){e.setState(Object(Z.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){e.setState({loading:!0}),e.setState({process:!0});var a={user:Le,course:document.getElementById("course").value};b.a.post(Re+"/api/admin/assign/new",a,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){e.setState({errors:{}}),e.setState({process:!1}),e.setState({loading:!1}),e.setState({errorOpen:!1}),window.location.reload()}).catch(function(t){e.setState({loading:!1}),e.setState({process:!1});var a=t.response.data;e.setState({errors:a}),a.internalError&&e.setState({errorOpen:!0})}),t.preventDefault()},e.revoke=function(t){window.confirm("Are you sure you want to revoke access to this course?")&&(e.setState({loading:!0}),document.getElementById("delProcess"+t).innerHTML="Working",b.a.post(Re+"/api/admin/assign/delete",{id:t},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(a){e.setState({errors:{}}),document.getElementById("delProcess"+t).innerHTML="Revoke",e.setState({loading:!1}),e.setState({errorOpen:!1}),window.location.reload()}).catch(function(a){e.setState({loading:!1}),document.getElementById("delProcess"+t).innerHTML="Revoke";var n=a.response.data;e.setState({errors:n}),n.internalError&&e.setState({errorOpen:!0})}))},e.handleClose=function(){e.setState({successOpen:!1})},e.state={process:!1,changes:!1,errorOpen:!1,skeleton:!1,skeletonTwo:!1,errors:{},instructor:[],assignable:[],courses:[],assigned:[]},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.auth.user,a=this.state.errors;return 3===t.role?s.a.createElement(z.a,{to:"/all-courses"}):2===t.role?s.a.createElement(z.a,{to:"/instructor"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(_e,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("a",{href:"/admin/instructors",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("h4",null,"New Lesson"))),s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"30px 0"}},s.a.createElement("div",{className:"form-box"},s.a.createElement("div",{className:"form-inner"},s.a.createElement("h4",{style:{textAlign:"left"}},"Assign courses"),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(De.a,{variant:"p"},!0===this.state.skeleton?s.a.createElement("div",null,s.a.createElement(V.a,{style:{width:"150px"}}),s.a.createElement(V.a,{style:{width:"150px"}})):this.state.instructor.map(function(e){return s.a.createElement("div",null,s.a.createElement("p",{style:{textAlign:"left",lineHeight:"20px",marginBottom:"0px"}},s.a.createElement("b",null,e.name)),s.a.createElement("p",{style:{textAlign:"left",lineHeight:"20px",marginBottom:"0px"}},e.email))}))),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"select-textField"},!0===this.state.skeletonTwo?"":s.a.createElement("span",{className:K()("select-top",{invalidLabel:a.position})},"Select course"),!0===this.state.skeletonTwo?s.a.createElement(V.a,{style:{width:"100%",height:"53.63px"}}):s.a.createElement("select",{id:"course",className:K()("",{invalid:a.course})},s.a.createElement("option",{selected:!0,value:""},"Select course"),this.state.assignable.map(function(e){return s.a.createElement("option",{value:e._id},e.name)})),s.a.createElement("span",{className:"red-text"},a.course)),s.a.createElement("div",{style:{marginTop:"24px"}},!0===this.state.skeleton?s.a.createElement("button",{style:{width:"150px",height:"35px"},type:"submit",disabled:!0,className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Add"):s.a.createElement("button",{style:{width:"150px",height:"35px"},type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Add"))),s.a.createElement("hr",{style:{marginTop:"60px",marginBottom:"40px"}}),!0===this.state.skeleton?s.a.createElement("div",null,s.a.createElement(V.a,{style:{width:"100%",height:"35px"}}),s.a.createElement(V.a,{style:{width:"100%",height:"35px"}})):s.a.createElement("div",null,0===this.state.assigned.length?s.a.createElement("p",{style:{width:"100%"},className:"con-mid"},s.a.createElement("span",{className:"con-mid",style:{border:"1px solid rgba(0,0,0,0.1)",padding:"5px 20px",borderRadius:"10px"}},"No courses assigned yet")):this.state.assigned.map(function(t){return s.a.createElement("p",{className:"assignedList"},e.state.courses.map(function(a){return a._id===t.course?s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement("b",null,a.name," \xa0")),s.a.createElement("div",{style:{width:"100%"},className:"con-right"},s.a.createElement("button",{style:{width:"80px",height:"35px"},id:"delProcess"+t._id,onClick:function(){return e.revoke(t._id)},className:"btn btn-full-red"},"Revoke"))):""}))})))))))))}}]),t}(n.Component),He=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(Ue),ze=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),Me=a(24).API_URL,Ve=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={errorOpen:!1,delProcess:!1,disProcess:!1,eProcess:!1,loading:!1,skeleton:!1,payments:[],courses:[]},a.componentDidMount=function(){a.setState({skeleton:!0}),a.setState({loading:!0}),b.a.get(Me+"/api/admin/past",{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({errorOpen:!1}),a.setState({loading:!1}),a.setState({skeleton:!1});var t=e.data;a.setState({payments:t})}).catch(function(e){a.setState({errorOpen:!0}),a.setState({loading:!1}),a.setState({skeleton:!1})}),b.a.get(Me+"/api/admin/team",{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){var t=e.data;a.setState({courses:t})}).catch(function(e){a.setState({loading:!1},function(){})})},a.delPast=function(e){var t=e.target.id.substring(2);a.setState({loading:!0}),a.setState({delProcess:!0}),console.log(t),window.confirm("Are you sure you want to remove this item?")?(console.log("del"),b.a.post(Me+"/api/admin/past/delete",{id:t},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){console.log("deleted"),a.setState({errorOpen:!1}),a.setState({loading:!1}),a.setState({delProcess:!1}),window.location.reload()}).catch(function(e){a.setState({errorOpen:!0}),a.setState({loading:!1}),a.setState({delProcess:!1}),console.log(e)})):(console.log("Deletion aborted"),a.setState({loading:!1}),a.setState({delProcess:!1}))},a.delTeam=function(e){var t=e.target.id.substring(2);a.setState({loading:!0}),a.setState({delProcess:!0}),console.log(t),window.confirm("Are you sure you want to remove this item?")?(console.log("del"),b.a.post(Me+"/api/admin/team/delete",{id:t},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){console.log("deleted"),a.setState({errorOpen:!1}),a.setState({loading:!1}),a.setState({delProcess:!1}),window.location.reload()}).catch(function(e){a.setState({errorOpen:!0}),a.setState({loading:!1}),a.setState({delProcess:!1}),console.log(e)})):(console.log("Deletion aborted"),a.setState({loading:!1}),a.setState({delProcess:!1}))},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.auth.user;if(3===t.role)return s.a.createElement(z.a,{to:"/all-courses"});if(2===t.role)return s.a.createElement(z.a,{to:"/instructor"});var a=[];this.state.payments.map(function(t){return a.push({name:t.name,title:t.title,body:t.body,actions:s.a.createElement("div",null,s.a.createElement("a",{href:"/admin/past/edit/"+t._id,className:"btn pay-btn btn-full-blue"},"Edit"),s.a.createElement("button",{id:"r-"+t._id,onClick:e.delPast,className:"btn pay-btn btn-full-red"},"Remove"))})});var n=[];return this.state.courses.map(function(t){return n.push({name:t.name,title:t.title,body:t.body,img:s.a.createElement("img",{alt:"Profile",src:Me+"/public/team/"+t.file,style:{width:"80px",height:"80px"}}),actions:s.a.createElement("div",null,s.a.createElement("a",{href:"/admin/team/edit/"+t._id,className:"btn pay-btn btn-full-blue"},"Edit"),s.a.createElement("button",{id:"r-"+t._id,onClick:e.delTeam,className:"btn pay-btn btn-full-red"},"Remove"))})}),s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(we.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(ze,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement(be.a,{to:"/admin",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("h4",null,"Homepage"))),s.a.createElement("div",{style:{marginBottom:"100px"}},s.a.createElement("div",{style:{width:"100%",margin:"50px 0"},className:"row"},s.a.createElement("div",{className:"con-left col"},s.a.createElement("h4",null,"Student Voice")),s.a.createElement("div",{className:"con-right col"},s.a.createElement("a",{href:"/admin/past/new",className:"btn btn-full-blue"},"+ Add New"))),!0===this.state.skeleton?s.a.createElement("div",{className:"form-box",style:{width:"100%",marginTop:"50px",height:"400px"}},s.a.createElement("div",{className:"form-inner",style:{padding:"10px",height:"100%"}},s.a.createElement("div",{style:{width:"100%",height:"100%"},className:"con-mid"},s.a.createElement(xe.a,null)))):s.a.createElement("div",{className:"form-box",style:{width:"100%",marginTop:"50px"}},s.a.createElement("div",{className:"form-inner",style:{padding:"10px"}},s.a.createElement(ve.a,{title:"Past Students",data:a,columns:[{name:"name",label:"Name",options:{filter:!0,sort:!0}},{name:"title",label:"Title",options:{filter:!0,sort:!1}},{name:"body",label:"Body",options:{filter:!0}},{name:"actions",label:"Actions",options:{filter:!1,sort:!1}}],options:{search:!0,paging:!1,filtering:!0,exportButton:!0,selectableRows:!1}})))),s.a.createElement("div",{style:{marginBottom:"100px"}},s.a.createElement("div",{style:{width:"100%",margin:"50px 0"},className:"row"},s.a.createElement("div",{className:"con-left col"},s.a.createElement("h4",null,"Team Members")),s.a.createElement("div",{className:"con-right col"},s.a.createElement("a",{href:"/admin/team/new",className:"btn btn-full-blue"},"+ Add New"))),!0===this.state.skeleton?s.a.createElement("div",{className:"form-box",style:{width:"100%",marginTop:"50px",height:"400px"}},s.a.createElement("div",{className:"form-inner",style:{padding:"10px",height:"100%"}},s.a.createElement("div",{style:{width:"100%",height:"100%"},className:"con-mid"},s.a.createElement(xe.a,null)))):s.a.createElement("div",{className:"form-box",style:{width:"100%",marginTop:"50px"}},s.a.createElement("div",{className:"form-inner",style:{padding:"10px"}},s.a.createElement(ve.a,{title:"Team Members",data:n,columns:[{name:"name",label:"Name",options:{filter:!0,sort:!0}},{name:"title",label:"Title",options:{filter:!0,sort:!1}},{name:"body",label:"Body",options:{filter:!0,sort:!1}},{name:"img",label:"Image",options:{filter:!0}},{name:"actions",label:"Actions",options:{filter:!1,sort:!1}}],options:{search:!0,paging:!1,filtering:!0,exportButton:!0,selectableRows:!1}}))))))))}}]),t}(n.Component),Fe=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(Ve),We=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),Ge=a(24).API_URL,Ze=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser()},e.componentDidMount=function(){e.setState({loading:!0}),e.props.auth.isAuthenticated,e.setState({loading:!1})},e.onChange=function(t){e.setState(Object(Z.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){e.setState({loading:!0}),e.setState({process:!0});var a={name:e.state.name,title:e.state.title,body:e.state.body};b.a.post(Ge+"/api/admin/past",a,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){e.setState({loading:!1}),e.setState({errors:{}}),e.setState({name:""}),e.setState({title:""}),e.setState({body:""}),e.setState({process:!1}),e.setState({errorOpen:!1}),e.setState({successOpen:!0})}).catch(function(t){e.setState({loading:!1}),e.setState({process:!1});var a=t.response.data;a.internalError&&e.setState({errorOpen:!0}),console.log(a),e.setState({errors:a})}),t.preventDefault()},e.handleClose=function(){e.setState({successOpen:!1})},e.state={name:"",title:"",body:"",successOpen:!1,errorOpen:!1,errors:{}},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=this.state.errors;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):2===e.role?s.a.createElement(z.a,{to:"/instructor"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.successOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(We,{severity:"success",sx:{width:"100%"}},"Record added successfully!")),s.a.createElement(je.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(We,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement(be.a,{to:"/admin/homepage",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("h4",null,"Add new student voice"))),s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"30px 0 70px 0"}},s.a.createElement("div",{className:"form-box"},s.a.createElement("div",{className:"form-inner"},s.a.createElement("div",{className:"col s12",style:{marginBottom:"24px"}},s.a.createElement("h4",{style:{textAlign:"left"}},"New student voice")),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{onChange:this.onChange,value:this.state.name,variant:"outlined",autoComplete:"new-name",label:"Name",error:t.name,id:"name",type:"text",style:{width:"100%"},className:K()("",{invalid:t.name})}),s.a.createElement("span",{className:"red-text"},t.name)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{onChange:this.onChange,value:this.state.title,error:t.title,id:"title",variant:"outlined",autoComplete:"new-title",label:"Title",style:{width:"100%"},type:"text",className:K()("",{invalid:t.title})}),s.a.createElement("span",{className:"red-text"},t.title)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{id:"body",variant:"outlined",label:"Body",multiline:!0,rows:5,type:"text",onChange:this.onChange,value:this.state.body,placeholder:"",error:t.body,style:{width:"100%"},className:K()("",{invalid:t.body})}),s.a.createElement("span",{className:"red-text"},t.body)),s.a.createElement("div",{className:"col s12"},s.a.createElement("button",{style:{width:"100%",height:"48px"},type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-5px"}}):"Add"))))))))))}}]),t}(n.Component),qe=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(Ze),Je=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),Ke=a(24).API_URL,Xe=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser()},e.componentDidMount=function(){e.setState({loading:!0}),e.props.auth.isAuthenticated,e.setState({loading:!1})},e.onChange=function(t){e.setState(Object(Z.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){var a=new FormData;a.append("name",e.state.name),a.append("title",e.state.title),a.append("body",e.state.body),a.append("slip",document.getElementById("slip").files[0]),e.setState({loading:!0}),e.setState({process:!0}),b.a.post(Ke+"/api/admin/team",a,{headers:{"Content-Type":"multipart/form-data","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){e.setState({loading:!1}),e.setState({errors:{}}),e.setState({name:""}),e.setState({title:""}),e.setState({body:""}),document.getElementById("slip").value="",e.setState({process:!1}),e.setState({errorOpen:!1}),e.setState({successOpen:!0})}).catch(function(t){e.setState({loading:!1}),e.setState({process:!1});var a=t.response.data;a.internalError&&e.setState({errorOpen:!0}),console.log(a),e.setState({errors:a})}),t.preventDefault()},e.handleClose=function(){e.setState({successOpen:!1})},e.state={name:"",title:"",body:"",successOpen:!1,errorOpen:!1,errors:{}},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=this.state.errors;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):2===e.role?s.a.createElement(z.a,{to:"/instructor"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.successOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Je,{severity:"success",sx:{width:"100%"}},"Record added successfully!")),s.a.createElement(je.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Je,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement(be.a,{to:"/admin/homepage",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("h4",null,"Add new student voice"))),s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"30px 0 70px 0"}},s.a.createElement("div",{className:"form-box"},s.a.createElement("div",{className:"form-inner"},s.a.createElement("div",{className:"col s12",style:{marginBottom:"24px"}},s.a.createElement("h4",{style:{textAlign:"left"}},"New student voice")),s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{onChange:this.onChange,value:this.state.name,variant:"outlined",autoComplete:"new-name",label:"Name",error:t.name,id:"name",type:"text",style:{width:"100%"},className:K()("",{invalid:t.name})}),s.a.createElement("span",{className:"red-text"},t.name)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{onChange:this.onChange,value:this.state.title,error:t.title,id:"title",variant:"outlined",autoComplete:"new-title",label:"Title",style:{width:"100%"},type:"text",className:K()("",{invalid:t.title})}),s.a.createElement("span",{className:"red-text"},t.title)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{onChange:this.onChange,value:this.state.body,error:t.body,id:"body",multiline:!0,rows:5,variant:"outlined",autoComplete:"new-title",label:"Body",style:{width:"100%"},type:"text",className:K()("",{invalid:t.body})}),s.a.createElement("span",{className:"red-text"},t.body)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement("ul",null,s.a.createElement("li",{style:{textAlign:"left"}},"Only ",s.a.createElement("b",null,"PNG")," files are allowed"),s.a.createElement("li",{style:{textAlign:"left"}},"The maximum file size is ",s.a.createElement("b",null,"5MB")),s.a.createElement("li",{style:{textAlign:"left"}},"File dimensions should be ",s.a.createElement("b",null,"(200x200)px")))),s.a.createElement("input",{accept:"image/PNG",id:"slip",style:{width:"280px"},className:"custom-file-input",name:"slip",required:!0,type:"file"}),s.a.createElement("span",{className:"red-text"},t.file)),s.a.createElement("div",{className:"col s12"},s.a.createElement("button",{style:{width:"100%",height:"48px"},type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-5px"}}):"Add"))))))))))}}]),t}(n.Component),Ye=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(Xe),$e=a(702),Qe=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),et=a(24).API_URL,tt=window.location.pathname.split("/").pop(),at=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={name:"",title:"",body:"",delProcess:!1,process:!1,changes:!1,successOpen:!1,errorOpen:!1,skeleton:!1,courses:[],errors:{}},a.componentDidMount=function(){a.setState({loading:!0}),a.setState({skeleton:!0}),b.a.get(et+"/api/admin/past/info?id="+tt,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({loading:!1}),a.setState({skeleton:!1});var t=e.data;if(t[0]._id){a.setState({courses:t});var n=document.getElementById("name"),s=document.getElementById("title"),o=document.getElementById("body");n.value=t[0].name,s.value=t[0].title,o.value=t[0].body,a.setState({name:t[0].name}),a.setState({title:t[0].title}),a.setState({body:t[0].body})}else window.location.href="/admin/names/"+a.state.courses.map(function(e){return e.course})}).catch(function(e){a.setState({loading:!1}),a.setState({successOpen:!1}),a.setState({errorOpen:!0}),a.setState({skeleton:!1})})},a.onChange=function(e){a.setState({changes:!0}),a.setState(Object(Z.a)({},e.target.id,e.target.value))},a.onSubmit=function(e){a.setState({changes:!1}),a.setState({loading:!0}),a.setState({process:!0});var t={id:tt,name:a.state.name,title:a.state.title,body:a.state.body};b.a.post(et+"/api/admin/past/edit",t,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({errors:{}}),a.setState({changes:!1}),a.setState({process:!1}),a.setState({loading:!1}),a.setState({errorOpen:!1}),a.setState({successOpen:!0})}).catch(function(e){a.setState({loading:!1}),a.setState({process:!1});var t=e.response.data;t.internalError&&(a.setState({successOpen:!1}),a.setState({errorOpen:!0})),console.log(t),a.setState({errors:t})}),e.preventDefault()},a.handleClose=function(){a.setState({successOpen:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=this.state.errors;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):2===e.role?s.a.createElement(z.a,{to:"/instructor"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.successOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Qe,{severity:"success",sx:{width:"100%"}},"name updated successfully!")),s.a.createElement(je.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Qe,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("a",{href:"/admin/homepage",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement($e.a,{variant:"h4"},s.a.createElement("h4",null,"Edit Student Voice - \xa0",!0===this.state.skeleton?s.a.createElement(V.a,{style:{display:"inline-block",width:"100px"}}):this.state.courses.map(function(e){return e.name}))))),s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"30px 0"}},s.a.createElement("div",{className:"form-box"},s.a.createElement("div",{className:"form-inner"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("h4",{style:{textAlign:"left",marginBottom:"24px"}},"Edit Student Voice"),s.a.createElement("div",{style:{marginBottom:"24px"}},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%",height:"53.63px"}}):s.a.createElement(X.a,{id:"name",label:"Name",variant:"outlined",style:{width:"100%"},onChange:this.onChange,value:this.state.name,error:t.name,type:"text",placeholder:"",className:K()("",{invalid:t.name})}),s.a.createElement("span",{className:"red-text"},t.name)),s.a.createElement("div",{style:{marginBottom:"24px"}},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%",height:"53.63px"}}):s.a.createElement(X.a,{id:"title",label:"Title",variant:"outlined",style:{width:"100%"},onChange:this.onChange,value:this.state.title,error:t.title,type:"text",placeholder:"",className:K()("",{invalid:t.title})}),s.a.createElement("span",{className:"red-text"},t.title)),s.a.createElement("div",null,!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%",height:"53.63px"}}):s.a.createElement(X.a,{id:"body",label:"Body",multiline:!0,variant:"outlined",rows:"5",style:{width:"100%"},onChange:this.onChange,value:this.state.body,error:t.body,type:"number",placeholder:"",className:K()("",{invalid:t.body})}),s.a.createElement("span",{className:"red-text"},t.body)),s.a.createElement("div",null,!0===this.state.changes?s.a.createElement("button",{style:{width:"150px",height:"35px",marginTop:"1rem"},type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Update"):s.a.createElement("button",{style:{width:"150px",height:"35px",marginTop:"1rem"},disabled:!0,className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Update"))))))))))}}]),t}(n.Component),nt=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(at),st=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),ot=a(24).API_URL,lt=window.location.pathname.split("/").pop(),rt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={name:"",title:"",body:"",delProcess:!1,process:!1,changes:!1,successOpen:!1,errorOpen:!1,skeleton:!1,courses:[],errors:{}},a.componentDidMount=function(){a.setState({loading:!0}),a.setState({skeleton:!0}),b.a.get(ot+"/api/admin/team/info?id="+lt,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({loading:!1}),a.setState({skeleton:!1});var t=e.data;if(t[0]._id){a.setState({courses:t});var n=document.getElementById("name"),s=document.getElementById("title"),o=document.getElementById("body");n.value=t[0].name,s.value=t[0].title,o.value=t[0].body,a.setState({name:t[0].name}),a.setState({title:t[0].title}),a.setState({body:t[0].body})}else window.location.href="/admin/names/"+a.state.courses.map(function(e){return e.course})}).catch(function(e){a.setState({loading:!1}),a.setState({successOpen:!1}),a.setState({errorOpen:!0}),a.setState({skeleton:!1})})},a.onChange=function(e){a.setState({changes:!0}),a.setState(Object(Z.a)({},e.target.id,e.target.value))},a.onSubmit=function(e){a.setState({changes:!1}),a.setState({loading:!0}),a.setState({process:!0});var t={id:lt,name:a.state.name,title:a.state.title,body:a.state.body};b.a.post(ot+"/api/admin/team/edit",t,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({errors:{}}),a.setState({changes:!1}),a.setState({process:!1}),a.setState({loading:!1}),a.setState({errorOpen:!1}),a.setState({successOpen:!0})}).catch(function(e){a.setState({loading:!1}),a.setState({process:!1});var t=e.response.data;t.internalError&&(a.setState({successOpen:!1}),a.setState({errorOpen:!0})),console.log(t),a.setState({errors:t})}),e.preventDefault()},a.handleClose=function(){a.setState({successOpen:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=this.state.errors;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):2===e.role?s.a.createElement(z.a,{to:"/instructor"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.successOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(st,{severity:"success",sx:{width:"100%"}},"name updated successfully!")),s.a.createElement(je.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(st,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("a",{href:"/admin/homepage",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement($e.a,{variant:"h4"},s.a.createElement("h4",null,"Edit team member - \xa0",!0===this.state.skeleton?s.a.createElement(V.a,{style:{display:"inline-block",width:"100px"}}):this.state.courses.map(function(e){return e.name}))))),s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"30px 0"}},s.a.createElement("div",{className:"form-box"},s.a.createElement("div",{className:"form-inner"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("h4",{style:{textAlign:"left",marginBottom:"24px"}},"Edit team member"),s.a.createElement("div",{style:{marginBottom:"24px"}},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%",height:"53.63px"}}):s.a.createElement(X.a,{id:"name",label:"Name",variant:"outlined",style:{width:"100%"},onChange:this.onChange,value:this.state.name,error:t.name,type:"text",placeholder:"",className:K()("",{invalid:t.name})}),s.a.createElement("span",{className:"red-text"},t.name)),s.a.createElement("div",{style:{marginBottom:"24px"}},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%",height:"53.63px"}}):s.a.createElement(X.a,{id:"title",label:"Title",variant:"outlined",style:{width:"100%"},onChange:this.onChange,value:this.state.title,error:t.title,type:"text",placeholder:"",className:K()("",{invalid:t.title})}),s.a.createElement("span",{className:"red-text"},t.title)),s.a.createElement("div",{style:{marginBottom:"24px"}},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%",height:"53.63px"}}):s.a.createElement(X.a,{id:"body",label:"Body",variant:"outlined",multiline:!0,rows:5,style:{width:"100%"},onChange:this.onChange,value:this.state.body,error:t.body,type:"text",placeholder:"",className:K()("",{invalid:t.body})}),s.a.createElement("span",{className:"red-text"},t.body)),s.a.createElement("div",null,!0===this.state.changes?s.a.createElement("button",{style:{width:"150px",height:"35px",marginTop:"1rem"},type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Update"):s.a.createElement("button",{style:{width:"150px",height:"35px",marginTop:"1rem"},disabled:!0,className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Update"))))))))))}}]),t}(n.Component),it=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(rt),ct=a(24).API_URL,mt=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),dt=window.location.href,pt=new URL(dt).searchParams.get("m"),ut=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={loading:"",blocsLoading:"",successOpen:!1,courses:[]},a.componentDidMount=function(){a.setState({loading:!0}),a.setState({blocsLoading:!0}),b.a.get(ct+"/api/admin/courses",{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){var t=e.data;t.sort(),a.setState({courses:t}),a.setState({loading:!1}),a.setState({blocsLoading:!1})}).catch(function(e){a.setState({loading:!0}),a.setState({blocsLoading:!0})}),"cdel"===pt&&a.setState({successOpen:!0},function(){window.onload=function(){window.location.hash||(window.location=window.location+"#loaded",window.location.reload())}})},a.handleClose=function(){a.setState({successOpen:!1})},a.disableUser=function(e){a.setState({loading:!0});var t=e.target.id,n=t.substring(2);console.log(t),console.log(n),window.confirm("Are you sure you want to disable this course?")?(document.getElementById("d-"+n).innerHTML="Working...",console.log("disable"),b.a.post(ct+"/api/admin/course/disable",{id:n},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){console.log("disabled"),document.getElementById("d-"+n).innerHTML="Disable",document.getElementById("d-"+n).style.display="none",document.getElementById("e-"+n).style.display="inline-block",document.getElementById("active-"+n).style.display="none",document.getElementById("disabled-"+n).style.display="inline-block",a.setState({loading:!1})}).catch(function(e){a.setState({loading:!0}),console.log(e),alert("An unexpected error occurred, Please reload the page and try again.")})):(a.setState({loading:!1}),console.log("Disable aborted"))},a.enableUser=function(e){a.setState({loading:!0});var t=e.target.id.substring(2);console.log(t),window.confirm("Are you sure you want to enable this course?")?(document.getElementById("e-"+t).innerHTML="Working...",console.log("enable"),b.a.post(ct+"/api/admin/course/enable",{id:t},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){console.log("enabled"),document.getElementById("e-"+t).innerHTML="Enable",document.getElementById("e-"+t).style.display="none",document.getElementById("d-"+t).style.display="inline-block",document.getElementById("disabled-"+t).style.display="none",document.getElementById("active-"+t).style.display="inline-block",a.setState({loading:!1})}).catch(function(e){console.log(e),a.setState({loading:!0}),alert("An unexpected error occurred, Please reload the page and try again.")})):(a.setState({loading:!1}),console.log("Enable aborted"))},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.auth.user;return 3===t.role?s.a.createElement(z.a,{to:"/all-courses"}):2===t.role?s.a.createElement(z.a,{to:"/instructor"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.successOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(mt,{severity:"info",sx:{width:"100%"}},"Course deleted successfully")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement(be.a,{to:"/admin",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("h4",null,"All courses"))),s.a.createElement("div",{className:"con-right"},s.a.createElement(be.a,{to:"/admin/courses/new",className:"btn btn-full-blue",style:{marginRight:"var(--bs-gutter-x,.75rem)",marginLeft:"var(--bs-gutter-x,.75rem)"}},"+ Add new course")),s.a.createElement("div",{className:"container",style:{margin:"30px 0"}},!0===this.state.blocsLoading?s.a.createElement("div",{className:"row blocs"},s.a.createElement("div",{className:"col-sm-6"},s.a.createElement(V.a,{variant:"rectangular"})),s.a.createElement("div",{className:"col-sm-6"},s.a.createElement(V.a,{variant:"rectangular"})),s.a.createElement("div",{className:"col-sm-6"},s.a.createElement(V.a,{variant:"rectangular"})),s.a.createElement("div",{className:"col-sm-6"},s.a.createElement(V.a,{variant:"rectangular"}))):s.a.createElement("div",{className:"row blocs"},this.state.courses.map(function(t){return s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("div",{className:"block-body"},s.a.createElement("div",{className:"inner-block-body"},s.a.createElement("span",{style:{display:"inline-block"}},s.a.createElement("b",null,t.name)),1===t.status?s.a.createElement("span",null,s.a.createElement("span",{id:"active-"+t._id,className:"badge badge-success course-status"},"Active"),s.a.createElement("span",{id:"disabled-"+t._id,style:{display:"none"},className:"badge badge-danger course-status"},"Disabled")):s.a.createElement("span",null,s.a.createElement("span",{id:"active-"+t._id,style:{display:"none"},className:"badge badge-success course-status"},"Active"),s.a.createElement("span",{id:"disabled-"+t._id,className:"badge badge-danger course-status"},"Disabled")),s.a.createElement("span",{style:{display:"inline-block"}},s.a.createElement("a",{href:"/admin/courses/edit/"+t._id,className:"btn icon-master-btn con-mid"},s.a.createElement("i",{className:"material-icons-outlined btn-icon",style:{padding:"7px"}},"edit"))),s.a.createElement("hr",{style:{marginLeft:"-25px",marginRight:"-25px",marginTop:"20px",marginBottom:"20px",height:"2px",backgroundColor:"#d0d3df"}}),s.a.createElement("div",{style:{display:"inline-block",width:"100%",paddingBottom:"10px"},className:"con-right"},s.a.createElement("a",{href:"/admin/zoom/"+t._id,className:"btn btn-full-blue",style:{margin:"5px 0 5px 0",width:"100px"}},"Zoom link"),s.a.createElement("a",{href:"/admin/lessons/"+t._id,className:"btn btn-full-dark",style:{margin:"5px 0 5px 10px",width:"100px"}},"Lessons"),1===t.status?s.a.createElement("span",null,s.a.createElement("button",{onClick:e.disableUser,id:"d-"+t._id,className:"btn btn-full-red",style:{margin:"5px 0 5px 10px",display:"inline-block",width:"100px"}},"Disable"),s.a.createElement("button",{onClick:e.enableUser,id:"e-"+t._id,className:"btn btn-full-warn",style:{margin:"5px 0 5px 10px",display:"none",width:"100px"}},"Enable")):s.a.createElement("span",null,s.a.createElement("button",{onClick:e.disableUser,id:"d-"+t._id,className:"btn btn-full-red",style:{margin:"5px 0 5px 10px",display:"none",width:"100px"}},"Disable"),s.a.createElement("button",{onClick:e.enableUser,id:"e-"+t._id,className:"btn btn-full-warn",style:{margin:"5px 0 5px 10px",width:"100px"}},"Enable"))))))})))))))}}]),t}(n.Component),ht=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(ut),gt=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),Et=a(24).API_URL,ft=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser()},e.componentDidMount=function(){e.setState({loading:!0}),e.props.auth.isAuthenticated,e.setState({loading:!1})},e.onChange=function(t){e.setState(Object(Z.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){e.setState({loading:!0});var a={name:e.state.name,fee:e.state.fee,summary:e.state.summary};b.a.post(Et+"/api/admin/courses",a,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){e.setState({loading:!1}),e.setState({errors:{}}),e.setState({name:""}),e.setState({fee:""}),e.setState({summary:""}),e.setState({errorOpen:!1}),e.setState({successOpen:!0})}).catch(function(t){e.setState({loading:!1});var a=t.response.data;a.internalError&&e.setState({errorOpen:!0}),console.log(a),e.setState({errors:a})}),t.preventDefault()},e.handleClose=function(){e.setState({successOpen:!1})},e.state={name:"",fee:"",summary:"",successOpen:!1,errorOpen:!1,errors:{}},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=this.state.errors;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):2===e.role?s.a.createElement(z.a,{to:"/instructor"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.successOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(gt,{severity:"success",sx:{width:"100%"}},"Course added successfully!")),s.a.createElement(je.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(gt,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement(be.a,{to:"/admin/courses",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("h4",null,"New Course"))),s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"30px 0 70px 0"}},s.a.createElement("div",{className:"form-box"},s.a.createElement("div",{className:"form-inner"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement("h4",{style:{textAlign:"left",marginBottom:"24px"}},"Add new course"),s.a.createElement(X.a,{id:"name",onChange:this.onChange,variant:"outlined",label:"Course Name",value:this.state.name,error:t.name,type:"text",style:{width:"100%"},className:K()("",{invalid:t.name})}),s.a.createElement("span",{className:"red-text"},t.name)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{id:"fee",onChange:this.onChange,variant:"outlined",label:"Course Fee (LKR)",value:this.state.fee,error:t.fee,type:"number",style:{width:"100%"},className:K()("",{invalid:t.fee})}),s.a.createElement("span",{className:"red-text"},t.fee)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{id:"summary",label:"Course Summary (Max 1300)",variant:"outlined",multiline:!0,rows:5,error:t.summary,onChange:this.onChange,value:this.state.summary,style:{width:"100%"},className:K()("",{invalid:t.summary})}),s.a.createElement("span",{className:"red-text"},t.summary)),s.a.createElement("div",{style:{marginBottom:"30px"}},s.a.createElement("button",{style:{width:"100%",height:"48px"},type:"submit",className:"btn btn-full-blue"},!0===this.state.loading?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-3px"}}):"Add"))))))))))}}]),t}(n.Component),bt=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(ft),yt=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),vt=a(24).API_URL,wt=window.location.pathname.split("/").pop(),xt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={name:"",fee:"",summary:"",lessonsCount:"",delProcess:!1,process:!1,changes:!1,successOpen:!1,errorOpen:!1,skeleton:!1,errors:{},courses:[]},a.componentDidMount=function(){a.setState({loading:!0}),a.setState({skeleton:!0}),b.a.get(vt+"/api/admin/course?id="+wt,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({loading:!1}),a.setState({skeleton:!1});var t=e.data;if(t[0]._id){a.setState({courses:t});var n=document.getElementById("name"),s=document.getElementById("fee"),o=document.getElementById("summary");n.value=t[0].name,s.value=t[0].fee,o.value=t[0].summary,a.setState({name:t[0].name}),a.setState({fee:t[0].fee}),a.setState({summary:t[0].summary})}else window.location.href="/admin/courses"}).catch(function(e){a.setState({loading:!1}),a.setState({successOpen:!1}),a.setState({errorOpen:!0}),a.setState({skeleton:!1})}),b.a.get(vt+"/api/admin/lessons/count?id="+wt,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){var t=parseInt(e.data);console.log(t),a.setState({lessonsCount:t})}).catch(function(e){a.setState({loading:!1}),a.setState({skeleton:!1}),a.setState({successOpen:!1}),a.setState({errorOpen:!0})})},a.delCourse=function(e){a.setState({loading:!0}),a.setState({delProcess:!0}),window.confirm('Are you sure you want to delete the course "'+a.state.courses.map(function(e){return e.name})+'"?')?(console.log("del"),b.a.post(vt+"/api/admin/course/delete?id="+wt,{course:a.state.courses.map(function(e){return e.name})},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({loading:!1}),a.setState({delProcess:!1}),window.location.href="/admin/courses?m=cdel"}).catch(function(e){a.setState({loading:!1}),a.setState({delProcess:!1}),console.log(e)}),e.preventDefault()):(a.setState({loading:!1}),a.setState({delProcess:!1}),console.log("Deletion aborted"))},a.onBlockDelete=function(e){alert("Please delete all lessons in this course first")},a.onSubmit=function(e){a.setState({changes:!1}),a.setState({loading:!0}),a.setState({process:!0});var t={name:a.state.name,fee:a.state.fee,summary:a.state.summary};b.a.post(vt+"/api/admin/course/update?id="+wt,t,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({changes:!1}),a.setState({errors:{}}),a.setState({process:!1}),a.setState({loading:!1}),a.setState({errorOpen:!1}),a.setState({successOpen:!0})}).catch(function(e){a.setState({loading:!1}),a.setState({process:!1});var t=e.response.data;a.setState({errors:t}),t.internalError&&(a.setState({successOpen:!1}),a.setState({errorOpen:!0}))}),e.preventDefault()},a.onChange=function(e){a.setState({changes:!0}),a.setState({fee:document.getElementById("fee").value}),a.setState(Object(Z.a)({},e.target.id,e.target.value))},a.handleClose=function(){a.setState({successOpen:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=this.state.errors;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):2===e.role?s.a.createElement(z.a,{to:"/instructor"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.successOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(yt,{severity:"success",sx:{width:"100%"}},"Course updated successfully!")),s.a.createElement(je.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(yt,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement(be.a,{to:"/admin/courses",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement($e.a,{variant:"h4"},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"200px"}}):s.a.createElement("h4",null,this.state.courses.map(function(e){return e.name})))),s.a.createElement("div",{style:{display:"inline-block",float:"right"}},0===this.state.lessonsCount?s.a.createElement("button",{style:{width:"150px",height:"35px",margin:"1rem 0 2rem 3px"},onClick:this.delCourse,className:"btn btn-full-red"},"Delete"):s.a.createElement("div",{onClick:this.onBlockDelete},s.a.createElement("button",{style:{width:"150px",height:"35px",margin:"1rem 0 2rem 3px"},disabled:!0,className:"btn btn-full-red"},!0===this.state.delProcess?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Delete")))),s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"30px 0"}},s.a.createElement("div",{className:"form-box"},s.a.createElement("div",{className:"form-inner"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement("h4",{style:{textAlign:"left",marginBottom:"24px"}},"Edit course"),!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%",height:"90px",marginTop:"-20px"}}):s.a.createElement(X.a,{id:"name",variant:"outlined",label:"Course Name",onChange:this.onChange,value:this.state.name,error:t.name,type:"text",placeholder:"",style:{width:"100%"},className:K()("",{invalid:t.name})}),s.a.createElement("span",{className:"red-text"},t.name)),s.a.createElement("div",{style:{marginBottom:"24px"}},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%",height:"90px",marginTop:"-37px"}}):s.a.createElement(X.a,{id:"fee",onChange:this.onChange,variant:"outlined",label:"Course Fee (LKR)",value:this.state.fee,error:t.fee,type:"number",style:{width:"100%"},className:K()("",{invalid:t.fee})}),s.a.createElement("span",{className:"red-text"},t.fee)),!0===this.state.skeleton?s.a.createElement("div",{style:{marginBottom:"-4px"}},s.a.createElement(V.a,{style:{width:"100%",height:"190px",marginTop:"-56px"}})):s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{id:"summary",variant:"outlined",label:"Course Summary",multiline:!0,rows:5,type:"text",onChange:this.onChange,value:this.state.summary,placeholder:"",error:t.summary,style:{width:"100%"},className:K()("",{invalid:t.summary})}),s.a.createElement("span",{className:"red-text"},t.summary)),s.a.createElement("div",null,!0===this.state.changes?s.a.createElement("button",{style:{width:"150px",height:"35px"},type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Update"):s.a.createElement("button",{style:{width:"150px",height:"35px"},disabled:!0,type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Update"))))))))))}}]),t}(n.Component),St=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(xt),Nt=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),kt=a(24).API_URL,Ct=window.location.pathname.split("/").pop(),Ot=window.location.href,jt=new URL(Ot).searchParams.get("m"),Tt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={lessons:[],lessonsCount:"",skeleton:!1,successOpen:!1,topics:[],courses:[]},a.componentDidMount=function(){console.log(Ct),a.setState({loading:!0}),a.setState({skeleton:!0}),"suc"===jt&&a.setState({successOpen:!0}),"ldel"===jt&&a.setState({successOpen:!0},function(){window.onload=function(){window.location.hash||(window.location=window.location+"#loaded",window.location.reload())}}),"tdel"===jt&&a.setState({successOpen:!0}),b.a.get(kt+"/api/admin/lessons/count?id="+Ct,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){var t=e.data;a.setState({lessonsCount:t})}).catch(function(e){a.setState({loading:!1},function(){})}),b.a.get(kt+"/api/admin/lessons?id="+Ct,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){var t=e.data;a.setState({lessons:t})}).catch(function(e){a.setState({loading:!1},function(){})}),b.a.get(kt+"/api/admin/course?id="+Ct,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){var t=e.data;a.setState({courses:t}),document.getElementById("courseName").innerHTML=t[0].name}).catch(function(e){a.setState({loading:!1},function(){})}),b.a.get(kt+"/api/admin/topicsByCourse?id="+Ct,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){var t=e.data;console.log(t),a.setState({topics:t}),a.setState({loading:!1}),a.setState({skeleton:!1})}).catch(function(e){a.setState({loading:!1},function(){})})},a.handleClose=function(){a.setState({successOpen:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.auth.user;return 3===t.role?s.a.createElement(z.a,{to:"/all-courses"}):2===t.role?s.a.createElement(z.a,{to:"/instructor"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.successOpen,autoHideDuration:6e3,onClose:this.handleClose},"suc"===jt?s.a.createElement(Nt,{severity:"success",sx:{width:"100%"}},"Lesson added successfully"):"ldel"===jt?s.a.createElement(Nt,{severity:"info",sx:{width:"100%"}},"Lesson deleted successfully"):"tdel"===jt?s.a.createElement(Nt,{severity:"info",sx:{width:"100%"}},"Topic deleted successfully"):""),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("a",{href:"/admin/courses",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement($e.a,{variant:"h4"},s.a.createElement("h4",{id:"courseName"})))),s.a.createElement("div",{className:"con-right",style:{margin:"30px 0px",width:"100%"}},s.a.createElement("a",{href:"/admin/lessons/new/"+Ct,className:"btn btn-full-blue"},"+ New lesson")),0===this.state.lessonsCount?s.a.createElement("p",{style:{width:"100%",paddingTop:"30px"},className:"con-mid"},s.a.createElement("span",{className:"not-yet"},"No lessons yet")):!0===this.state.skeleton?s.a.createElement("div",{style:{width:"100%"}},s.a.createElement(V.a,{style:{width:"100%",height:"65px"}}),s.a.createElement(V.a,{style:{width:"100%",height:"65px"}}),s.a.createElement(V.a,{style:{width:"100%",height:"65px"}})):s.a.createElement("div",{className:"accordion-outer"},s.a.createElement("div",{className:"accordion",id:"accordionExample"},s.a.createElement("div",{className:"accordion-inner"},this.state.lessons.map(function(t){return s.a.createElement("div",{className:"accordion-item"},s.a.createElement("p",{className:"accordion-header",id:"heading"+t._id},s.a.createElement("span",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+t._id,"aria-expanded":"true","aria-controls":"collapse"+t._id},t.lesson,s.a.createElement("a",{href:"/admin/lessons/edit/"+t._id+"?c="+t.course,className:"btn icon-master-btn con-mid",style:{marginLeft:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon",style:{padding:"7px"}},"edit")))),s.a.createElement("div",{id:"collapse"+t._id,className:"accordion-collapse collapse","aria-labelledby":"heading"+t._id,"data-bs-parent":"#accordionExample"},s.a.createElement("div",{className:"accordion-body"},s.a.createElement("ol",null,e.state.topics.map(function(e){return t._id===e.lesson?s.a.createElement("li",{className:"accordion-li",style:{listStyle:"decimal-leading-zero"},key:e._id},s.a.createElement("span",{className:"accordion-a"},e.topic),s.a.createElement("div",{style:{display:"inline-block"}},s.a.createElement("a",{href:"/admin/topics/edit/"+e._id,style:{margin:"5px 10px"},className:"btn icon-master-btn con-mid"},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"edit"))),s.a.createElement("div",{style:{display:"inline-block"}},s.a.createElement("a",{href:"/admin/topics/video/"+e._id,style:{margin:"5px 2px"},className:"btn icon-master-btn con-mid"},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"smart_display")))):""})),s.a.createElement("a",{href:"/admin/topics/new/"+t._id,className:"btn icon-master-btn con-mid",style:{width:"150px",fontSize:"14px",marginBottom:"15px"}},s.a.createElement("span",null,"+ New topic")))))}))))))))}}]),t}(n.Component),At=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(Tt),It=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),Pt=a(24).API_URL,Bt=window.location.pathname.split("/").pop(),Dt=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser()},e.componentDidMount=function(){e.setState({loading:!0}),e.setState({skeleton:!0}),e.props.auth.isAuthenticated,b.a.get(Pt+"/api/admin/lessons?id="+Bt,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){e.setState({loading:!1}),e.setState({skeleton:!1});var a=t.data;e.setState({lessons:a})}).catch(function(t){e.setState({loading:!1}),e.setState({skeleton:!1})}),b.a.get(Pt+"/api/admin/lessons/last?id="+Bt,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){var a=parseInt(t.data[0].position)+1;console.log(a),e.setState({lastLesson:a})}).catch(function(t){e.setState({loading:!1}),e.setState({skeleton:!1})})},e.onChange=function(t){e.setState(Object(Z.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){e.setState({loading:!0}),e.setState({process:!0});var a={lesson:document.getElementById("lesson").value,position:document.getElementById("position").value};b.a.post(Pt+"/api/admin/lessons/new?id="+Bt,a,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){window.location.href="/admin/lessons/"+Bt+"?m=suc",e.setState({errors:{}}),e.setState({process:!1}),e.setState({loading:!1}),e.setState({errorOpen:!1})}).catch(function(t){e.setState({loading:!1}),e.setState({process:!1});var a=t.response.data;e.setState({errors:a}),a.internalError&&e.setState({errorOpen:!0})}),t.preventDefault()},e.handleClose=function(){e.setState({successOpen:!1})},e.state={process:!1,changes:!1,errorOpen:!1,skeleton:!1,errors:{},courses:{},lessons:[]},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=this.state.errors;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):2===e.role?s.a.createElement(z.a,{to:"/instructor"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(It,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},!0===this.state.skeleton?s.a.createElement("a",{href:"/admin/courses",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"sync")):s.a.createElement("a",{href:"/admin/lessons/"+Bt,className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("h4",null,"New Lesson"))),s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"30px 0"}},s.a.createElement("div",{className:"form-box"},s.a.createElement("div",{className:"form-inner"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("h4",{style:{textAlign:"left",marginBottom:"24px"}},"Add new lesson"),s.a.createElement("div",{style:{marginBottom:"24px"}},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%",height:"53.63px"}}):s.a.createElement(X.a,{id:"lesson",label:"Lesson Name",variant:"outlined",style:{width:"100%"},error:t.lesson,type:"text",className:K()("",{invalid:t.lesson})}),s.a.createElement("span",{className:"red-text"},t.lesson)),s.a.createElement("div",{className:"select-textField"},!0===this.state.skeleton?"":s.a.createElement("span",{className:K()("select-top",{invalidLabel:t.position})},"Lesson Position"),!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%",height:"53.63px"}}):s.a.createElement("select",{id:"position",error:t.position,className:K()("",{invalid:t.position})},this.state.lastLesson?s.a.createElement("option",{selected:"selected",value:parseInt(this.state.lastLesson)},"At the end"):"",s.a.createElement("option",{value:1},"At the beginning"),this.state.lessons.map(function(e){return s.a.createElement("option",{value:e.position+1},"After ",e.lesson)})),s.a.createElement("span",{className:"red-text"},t.position)),s.a.createElement("div",{style:{marginTop:"24px"}},!0===this.state.skeleton?s.a.createElement("button",{style:{width:"100%",height:"48px"},disabled:!0,className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Add"):s.a.createElement("button",{style:{width:"100%",height:"48px"},type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-4px"}}):"Add"))))))))))}}]),t}(n.Component),_t=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(Dt),Rt=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),Lt=a(24).API_URL,Ut=window.location.pathname.split("/").pop(),Ht=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser()},e.componentDidMount=function(){e.setState({loading:!0}),e.setState({skeleton:!0});var t=window.location.href;"success"===new URL(t).searchParams.get("m")&&e.setState({successOpen:!0}),e.props.auth.isAuthenticated,b.a.get(Lt+"/api/admin/lesson?id="+Ut,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){e.setState({loading:!1}),e.setState({skeleton:!1}),document.getElementById("courseName").innerHTML="New Topic - Lesson: "+t.data[0].lesson;var a=t.data;e.setState({lessonsAll:a})}).catch(function(t){e.setState({loading:!1}),e.setState({errorOpen:!0}),e.setState({skeleton:!1})}),b.a.get(Lt+"/api/admin/topics?id="+Ut,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){var a=t.data;e.setState({topics:a})}).catch(function(t){e.setState({loading:!1}),e.setState({errorOpen:!0}),e.setState({skeleton:!1})}),b.a.get(Lt+"/api/admin/topics/last?id="+Ut,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){e.setState({loading:!1}),e.setState({skeleton:!1});var a=parseInt(t.data[0].position)+1;console.log(a),e.setState({topicLast:a})}).catch(function(t){e.setState({loading:!1}),e.setState({skeleton:!1})})},e.onChange=function(t){e.setState(Object(Z.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){e.setState({disable:!0}),e.setState({process:!0}),e.setState({loading:!0});var a={topic:document.getElementById("topic").value,video:document.getElementById("video").value,position:document.getElementById("position").value};b.a.post(Lt+"/api/admin/topics/new?id="+Ut,a,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){e.setState({disable:!1}),e.setState({errors:{}}),e.setState({process:!1}),e.setState({loading:!1}),e.setState({errorOpen:!1}),window.location="/admin/topics/new/"+Ut+"?m=success"}).catch(function(t){e.setState({disable:!1}),e.setState({loading:!1}),e.setState({process:!1});var a=t.response.data;a.internalError&&e.setState({errorOpen:!0}),console.log(a),e.setState({errors:a})}),t.preventDefault()},e.handleClose=function(){e.setState({successOpen:!1})},e.state={lesson:Ut,topicLast:"",process:!1,disable:!1,successOpen:!1,errorOpen:!1,skeleton:!1,errors:{},topics:[],lessonsAll:[]},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=this.state.errors;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):2===e.role?s.a.createElement(z.a,{to:"/instructor"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.successOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Rt,{severity:"success",sx:{width:"100%"}},"Topic added successfully!")),s.a.createElement(je.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Rt,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},!0===this.state.skeleton?s.a.createElement("a",{href:"/admin/courses",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"sync")):s.a.createElement("a",{href:"/admin/lessons/"+this.state.lessonsAll.map(function(e){return e.course}),className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement($e.a,{variant:"h4"},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"150px"}}):s.a.createElement("h4",{id:"courseName"})))),s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"30px 0"}},s.a.createElement("div",{className:"form-box"},s.a.createElement("div",{className:"form-inner"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement("h4",{style:{textAlign:"left",marginBottom:"24px"}},"Add new topic"),s.a.createElement(X.a,{id:"topic",label:"Topic Name",variant:"outlined",error:t.topic,type:"text",style:{width:"100%"},className:K()("",{invalid:t.topic})}),s.a.createElement("span",{className:"red-text"},t.topic)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{id:"video",label:"Video URL",variant:"outlined",error:t.video,type:"text",style:{width:"100%"},className:K()("",{invalid:t.video})}),s.a.createElement("span",{className:"red-text"},t.video)),s.a.createElement("div",{style:{marginBottom:"24px"}},!0===this.state.skeleton||!0===this.state.loading?s.a.createElement("div",{className:"select-textField"},s.a.createElement("span",{className:K()("select-top",{invalidLabel:t.position})},"Lesson Position"),s.a.createElement("br",null),s.a.createElement(V.a,{style:{width:"100%",height:"53.63px",paddingTop:"20px"}}),s.a.createElement("span",{className:"red-text"},t.position)):s.a.createElement("div",{className:"select-textField"},s.a.createElement("span",{className:K()("select-top",{invalidLabel:t.position})},"Lesson Position"),s.a.createElement("select",{id:"position",className:K()("",{invalid:t.position})},this.state.topicLast?s.a.createElement("option",{selected:"selected",value:parseInt(this.state.topicLast)},"At the end"):"",s.a.createElement("option",{value:1},"At the beginning"),this.state.topics.map(function(e){return s.a.createElement("option",{value:e.position+1},"After ",e.topic)})),s.a.createElement("span",{className:"red-text"},t.position))),s.a.createElement("div",null,!0===this.state.disable||!0===this.state.skeleton?s.a.createElement("button",{style:{width:"100%",height:"48px"},disabled:!0,className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-3px"}}):"Add"):s.a.createElement("button",{style:{width:"100%",height:"48px"},type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-3px"}}):"Add"))))))))))}}]),t}(n.Component),zt=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(Ht),Mt=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),Vt=a(24).API_URL,Ft=window.location.pathname.split("/").pop(),Wt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={lesson:"",position:"",delProcess:!1,process:!1,changes:!1,successOpen:!1,errorOpen:!1,skeleton:!1,courses:[],errors:{}},a.componentDidMount=function(){a.setState({loading:!0}),a.setState({skeleton:!0}),b.a.get(Vt+"/api/admin/lesson?id="+Ft,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({loading:!1}),a.setState({skeleton:!1});var t=e.data;if(t[0]._id){a.setState({courses:t});var n=document.getElementById("lesson"),s=document.getElementById("position");n.value=t[0].lesson,s.value=t[0].position,a.setState({lesson:t[0].lesson}),a.setState({position:t[0].position})}else window.location.href="/admin/lessons/"+a.state.courses.map(function(e){return e.course})}).catch(function(e){a.setState({loading:!1}),a.setState({successOpen:!1}),a.setState({errorOpen:!0}),a.setState({skeleton:!1})})},a.onChange=function(e){a.setState({changes:!0}),a.setState(Object(Z.a)({},e.target.id,e.target.value))},a.delCourse=function(e){a.setState({loading:!0}),a.setState({delProcess:!0}),window.confirm('Are you sure you want to delete the lesson "'+a.state.courses.map(function(e){return e.lesson})+'"?')?(console.log("del"),b.a.post(Vt+"/api/admin/lesson/delete?id="+Ft,{},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({loading:!1}),a.setState({delProcess:!1})}).catch(function(e){a.setState({loading:!1}),a.setState({delProcess:!1});var t=e.response.data;t.internalError&&a.setState({errorOpen:!0}),console.log(t),a.setState({errors:t})}),window.location.href="/admin/lessons/"+a.state.courses.map(function(e){return e.course})+"?m=ldel"):(a.setState({loading:!1}),a.setState({delProcess:!1}),console.log("Deletion aborted")),e.preventDefault()},a.onSubmit=function(e){a.setState({changes:!1}),a.setState({loading:!0}),a.setState({process:!0});var t={lesson:a.state.lesson,position:a.state.position};b.a.post(Vt+"/api/admin/lesson/update?id="+Ft,t,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({errors:{}}),a.setState({changes:!1}),a.setState({process:!1}),a.setState({loading:!1}),a.setState({errorOpen:!1}),a.setState({successOpen:!0})}).catch(function(e){a.setState({loading:!1}),a.setState({process:!1});var t=e.response.data;t.internalError&&(a.setState({successOpen:!1}),a.setState({errorOpen:!0})),console.log(t),a.setState({errors:t})}),e.preventDefault()},a.handleClose=function(){a.setState({successOpen:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=this.state.errors;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):2===e.role?s.a.createElement(z.a,{to:"/instructor"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.successOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Mt,{severity:"success",sx:{width:"100%"}},"Lesson updated successfully!")),s.a.createElement(je.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Mt,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},!0===this.state.skeleton?s.a.createElement("a",{href:"/admin/courses",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"sync")):s.a.createElement("a",{href:"/admin/lessons/"+this.state.courses.map(function(e){return e.course}),className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement($e.a,{variant:"h4"},s.a.createElement("h4",null,"Edit Lesson - \xa0",!0===this.state.skeleton?s.a.createElement(V.a,{style:{display:"inline-block",width:"100px"}}):this.state.courses.map(function(e){return e.lesson})))),s.a.createElement("div",{style:{display:"inline-block",float:"right"}},!0===this.state.skeleton?s.a.createElement("button",{style:{width:"150px",height:"35px",margin:"1rem 0 2rem 3px"},disabled:!0,className:"btn btn-full-red"},!0===this.state.delProcess?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Delete"):s.a.createElement("button",{style:{width:"150px",height:"35px",margin:"1rem 0 2rem 3px"},onClick:this.delCourse,className:"btn btn-full-red"},!0===this.state.delProcess?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Delete"))),s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"30px 0"}},s.a.createElement("div",{className:"form-box"},s.a.createElement("div",{className:"form-inner"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("h4",{style:{textAlign:"left",marginBottom:"24px"}},"Edit Lesson"),s.a.createElement("div",{style:{marginBottom:"24px"}},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%",height:"53.63px"}}):s.a.createElement(X.a,{id:"lesson",label:"Lesson Name",variant:"outlined",style:{width:"100%"},onChange:this.onChange,value:this.state.lesson,error:t.lesson,type:"text",placeholder:"",className:K()("",{invalid:t.lesson})}),s.a.createElement("span",{className:"red-text"},t.lesson)),s.a.createElement("div",null,s.a.createElement(X.a,{id:"position",label:"Lesson position",variant:"outlined",style:{width:"100%",display:"none"},onChange:this.onChange,value:this.state.position,error:t.position,type:"number",placeholder:"",className:K()("",{invalid:t.position})}),s.a.createElement("span",{className:"red-text"},t.position)),s.a.createElement("div",null,!0===this.state.changes?s.a.createElement("button",{style:{width:"150px",height:"35px",marginTop:"1rem"},type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Update"):s.a.createElement("button",{style:{width:"150px",height:"35px",marginTop:"1rem"},disabled:!0,className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Update"))))))))))}}]),t}(n.Component),Gt=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(Wt),Zt=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),qt=a(24).API_URL,Jt=window.location.pathname.split("/").pop(),Kt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={topic:"",video:"",position:"",delProcess:!1,process:!1,changes:!1,successOpen:!1,errorOpen:!1,skeleton:!1,errors:{},getTopic:[]},a.componentDidMount=function(){a.setState({loading:!0}),a.setState({skeleton:!0}),b.a.get(qt+"/api/admin/topic?id="+Jt,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({loading:!1}),a.setState({skeleton:!1});var t=e.data;if(console.log(t[0]._id),t[0]._id){a.setState({getTopic:t});var n=document.getElementById("topic"),s=document.getElementById("video"),o=document.getElementById("position");n.value=t[0].topic,s.value=t[0].video,o.value=t[0].position,a.setState({topic:t[0].topic}),a.setState({video:t[0].video}),a.setState({position:t[0].position})}}).catch(function(e){a.setState({loading:!1}),a.setState({errorOpen:!0}),a.setState({skeleton:!1})})},a.onChange=function(e){a.setState({changes:!0}),a.setState(Object(Z.a)({},e.target.id,e.target.value))},a.delCourse=function(e){a.setState({loading:!0}),a.setState({delProcess:!0}),window.confirm('Are you sure you want to delete the topic "'+a.state.getTopic.map(function(e){return e.topic})+'"?')?(console.log("del"),b.a.post(qt+"/api/admin/topic/delete?id="+Jt,{},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({loading:!1}),a.setState({delProcess:!1}),window.location.href="/admin/lessons/"+a.state.getTopic.map(function(e){return e.course})+"?m=tdel"}).catch(function(e){a.setState({loading:!1}),a.setState({delProcess:!1});var t=e.response.data;t.internalError&&a.setState({errorOpen:!0}),console.log(t),a.setState({errors:t})})):(a.setState({loading:!1}),a.setState({delProcess:!1}),console.log("Deletion aborted")),e.preventDefault()},a.onSubmit=function(e){a.setState({changes:!1}),a.setState({loading:!0}),a.setState({process:!0});var t={topic:a.state.topic,video:a.state.video,position:a.state.position};b.a.post(qt+"/api/admin/topic/update?id="+Jt,t,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({changes:!1}),a.setState({errors:{}}),a.setState({process:!1}),a.setState({loading:!1}),a.setState({errorOpen:!1}),a.setState({successOpen:!0})}).catch(function(e){a.setState({loading:!1}),a.setState({process:!1});var t=e.response.data;t.internalError&&a.setState({errorOpen:!0}),console.log(t),a.setState({errors:t})}),e.preventDefault()},a.handleClose=function(){a.setState({successOpen:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=this.state.errors;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):2===e.role?s.a.createElement(z.a,{to:"/instructor"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.successOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Zt,{severity:"success",sx:{width:"100%"}},"Topic updated successfully!")),s.a.createElement(je.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Zt,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("a",{href:"/admin/lessons/"+this.state.getTopic.map(function(e){return e.course}),className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement($e.a,{variant:"h4"},!0===this.state.skeleton?s.a.createElement("h4",{style:{display:"inline-block"}},"Edit Topic -\xa0",s.a.createElement(V.a,{style:{width:"150px",display:"inline-block"}})):s.a.createElement("h4",null,"Edit Topic -\xa0",this.state.getTopic.map(function(e){return e.topic})))),s.a.createElement("div",{style:{display:"inline-block",float:"right"}},!0===this.state.skeleton?s.a.createElement("button",{style:{width:"150px",height:"35px",margin:"1rem 0 2rem 3px"},disabled:!0,className:"btn btn-full-red"},!0===this.state.delProcess?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Delete"):s.a.createElement("button",{style:{width:"150px",height:"35px",margin:"1rem 0 2rem 3px"},onClick:this.delCourse,className:"btn btn-full-red"},!0===this.state.delProcess?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Delete"))),s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"30px 0"}},s.a.createElement("div",{className:"form-box"},s.a.createElement("div",{className:"form-inner"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("h4",{style:{textAlign:"left",marginBottom:"24px"}},"Edit Topic"),s.a.createElement("div",{style:{marginBottom:"24px"}},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%",height:"53.36px"}}):s.a.createElement(X.a,{id:"topic",label:"Topic Name",variant:"outlined",onChange:this.onChange,value:this.state.topic,error:t.topic,type:"text",style:{width:"100%"},className:K()("",{invalid:t.topic})}),s.a.createElement("span",{className:"red-text"},t.topic)),s.a.createElement("div",{style:{marginBottom:"24px"}},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%",height:"53.36px"}}):s.a.createElement(X.a,{id:"video",label:"Video URL",variant:"outlined",onChange:this.onChange,value:this.state.video,error:t.video,type:"text",style:{width:"100%"},className:K()("",{invalid:t.video})}),s.a.createElement("span",{className:"red-text"},t.video)),s.a.createElement("div",{style:{marginBottom:"24px",display:"none"}},s.a.createElement(X.a,{id:"position",label:"Position",variant:"outlined",onChange:this.onChange,value:this.state.position,error:t.position,type:"number",style:{width:"100%"},className:K()("",{invalid:t.position})}),s.a.createElement("span",{className:"red-text"},t.position)),s.a.createElement("div",{className:"col s12"},!0===this.state.changes?s.a.createElement("button",{style:{width:"150px",height:"35px"},type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Update"):s.a.createElement("button",{style:{width:"150px",height:"35px"},disabled:!0,type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Update"))))))))))}}]),t}(n.Component),Xt=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(Kt),Yt=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),$t=a(24).API_URL,Qt=window.location.pathname.split("/").pop(),ea=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={topic:"",video:"",position:"",process:!1,changes:!1,successOpen:!1,errorOpen:!1,skeleton:!1,errors:{},getTopic:[]},a.componentDidMount=function(){a.setState({loading:!0}),a.setState({skeleton:!0}),b.a.get($t+"/api/admin/topic?id="+Qt,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({loading:!1}),a.setState({skeleton:!1});var t=e.data;if(console.log(t[0]._id),t[0]._id){a.setState({getTopic:t});var n=document.getElementById("topic"),s=document.getElementById("video"),o=document.getElementById("position");n.value=t[0].topic,s.value=t[0].video,o.value=t[0].position,a.setState({topic:t[0].topic}),a.setState({video:t[0].video}),a.setState({position:t[0].position}),a.setState({getTopic:t})}}).catch(function(e){a.setState({loading:!1}),a.setState({errorOpen:!0}),a.setState({skeleton:!1})})},a.onChange=function(e){a.setState({changes:!0}),a.setState(Object(Z.a)({},e.target.id,e.target.value))},a.onSubmit=function(e){a.setState({process:!0}),a.setState({loading:!0});var t={topic:a.state.topic,video:a.state.video,position:a.state.position};b.a.post($t+"/api/admin/topic/update?id="+Qt,t,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({changes:!1}),a.setState({errors:{}}),a.setState({process:!1}),a.setState({loading:!1}),a.setState({errorOpen:!1}),a.setState({successOpen:!0})}).catch(function(e){a.setState({loading:!1}),a.setState({process:!1});var t=e.response.data;t.internalError&&a.setState({errorOpen:!0}),console.log(t),a.setState({errors:t})}),e.preventDefault()},a.handleClose=function(){a.setState({successOpen:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=this.state.errors;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):2===e.role?s.a.createElement(z.a,{to:"/instructor"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.successOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Yt,{severity:"success",sx:{width:"100%"}},"Video URL updated successfully!")),s.a.createElement(je.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Yt,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},!0===this.state.skeleton?s.a.createElement("a",{href:"/admin/courses",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"sync")):s.a.createElement("a",{href:"/admin/lessons/"+this.state.getTopic.map(function(e){return e.course}),className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement($e.a,{variant:"h4"},this.state.skeleton?s.a.createElement("h4",{style:{display:"inline-block"}},"Video -\xa0",s.a.createElement(V.a,{style:{width:"150px",display:"inline-block"}})):s.a.createElement("h4",null,"Video - ",this.state.getTopic.map(function(e){return e.topic}))))),s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"24px 0 0 0"}},s.a.createElement("div",{className:"form-box"},s.a.createElement("div",{className:"form-inner"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("h4",{style:{textAlign:"left",marginBottom:"24px"}},"Edit Video URL"),s.a.createElement("div",{style:{marginBottom:"24px",display:"none"}},s.a.createElement(X.a,{id:"topic",label:"Topic Name",variant:"outlined",onChange:this.onChange,value:this.state.topic,error:t.topic,type:"text",style:{width:"100%"},className:K()("",{invalid:t.topic})}),s.a.createElement("span",{className:"red-text"},t.topic)),s.a.createElement("div",{style:{marginBottom:"24px"}},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%",height:"53.36px"}}):s.a.createElement(X.a,{id:"video",label:"Video URL",variant:"outlined",onChange:this.onChange,value:this.state.video,error:t.video,type:"text",style:{width:"100%"},className:K()("",{invalid:t.video})}),s.a.createElement("span",{className:"red-text"},t.video)),s.a.createElement("div",{style:{marginBottom:"24px",display:"none"}},s.a.createElement(X.a,{id:"position",label:"Position",variant:"outlined",onChange:this.onChange,value:this.state.position,error:t.position,type:"number",style:{width:"100%"},className:K()("",{invalid:t.position})}),s.a.createElement("span",{className:"red-text"},t.position)),s.a.createElement("div",{className:"col s12"},!0===this.state.changes?s.a.createElement("button",{style:{width:"150px",height:"35px"},type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Update"):s.a.createElement("button",{style:{width:"150px",height:"35px"},disabled:!0,className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Update")))))),s.a.createElement("div",{className:"con-mid",style:{width:"100%",marginBottom:"48px"}},s.a.createElement("div",{className:"main-tv",style:{height:"100%"},id:"thisTopic2"},s.a.createElement("div",{className:"con-mid"},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%",height:"600px",marginTop:"-100px"}}):s.a.createElement("iframe",{className:"tv-iframe",src:this.state.getTopic.map(function(e){return e.video}),frameBorder:0,allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0,title:this.state.getTopic.map(function(e){return e.topic})}))))))))}}]),t}(n.Component),ta=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(ea),aa=a(24).API_URL,na=window.location.pathname.split("/").pop(),sa=(new Date).toISOString();console.log(sa);var oa=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser()},e.componentDidMount=function(){e.setState({loading:!0}),b.a.get(aa+"/api/admin/course?id="+na,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){e.setState({loading:!1});var a=t.data;e.setState({lessonsAll:a});var n=new Date(a[0].zoomStart),s=new Date(a[0].zoomEnd);document.getElementById("courseName").innerHTML="New zoom - "+a[0].name,document.getElementById("zoomStart").innerHTML=String(n),document.getElementById("zoomEnd").innerHTML=String(s)}).catch(function(t){e.setState({loading:!1},function(){})})},e.onChange=function(t){e.setState(Object(Z.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){if(e.setState({process:!0}),e.state.start>e.state.end)return alert("invalid dates and times");if(new Date(e.state.start).getTime()<(new Date).getTime())return alert("invalid starting date & time");if(new Date(e.state.end).getTime()<(new Date).getTime())return alert("invalid ending date & time");var a={link:e.state.link,start:e.state.start,end:e.state.end};b.a.post(aa+"/api/admin/zoom/new?course="+na,a,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){e.setState({process:!1}),window.location.reload()}).catch(function(t){e.setState({process:!1});var a=t.response.data;e.setState({errors:a})}),t.preventDefault()},e.delProcessBtn=function(t){b.a.post(aa+"/api/admin/zoom/delete?course="+na,{},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){e.setState({delProcess:!1}),window.location.reload()}).catch(function(t){e.setState({delProcess:!1});var a=t.response.data;e.setState({errors:a})}),t.preventDefault()},e.state={link:"",zoomStart:"",zoomEnd:"",start:"",end:"",loading:!1,process:!1,delProcess:!1,errors:{},lessonsAll:[]},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=this.state.errors;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):2===e.role?s.a.createElement(z.a,{to:"/instructor"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading||!0===this.state.process?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("a",{href:"/admin/courses",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement(De.a,{variant:"h4"},!0===this.state.loading?s.a.createElement(V.a,{style:{width:"150px"}}):s.a.createElement("h4",{id:"courseName"})))),!0===this.state.loading?s.a.createElement("div",{style:{width:"100%",height:"calc(100vh - 103px)"},className:"con-mid"},s.a.createElement(Y.a,null)):s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"30px 0 50px 0"}},sa<=this.state.lessonsAll.map(function(e){return e.zoomEnd})?s.a.createElement("div",{className:"form-box con-left",style:{backgroundColor:"#ffffff",zIndex:"1"}},s.a.createElement("div",{className:"form-inner"},this.state.lessonsAll.map(function(e){return e.zoomStart})<=sa?s.a.createElement("h4",null,"Ongoing zoom"):s.a.createElement("h4",null,"Upcoming zoom"),s.a.createElement("div",{className:"curZoom"},s.a.createElement("p",null,s.a.createElement("b",null,"Link:"),s.a.createElement("br",null),s.a.createElement("a",{href:this.state.lessonsAll.map(function(e){return e.zoom}),target:"_blank"},this.state.lessonsAll.map(function(e){return e.zoom}))),s.a.createElement("p",null,s.a.createElement("b",null,"Start:"),s.a.createElement("br",null),s.a.createElement("span",{id:"zoomStart"})),s.a.createElement("p",null,s.a.createElement("b",null,"End:"),s.a.createElement("br",null),s.a.createElement("span",{id:"zoomEnd"})),s.a.createElement("form",{noValidate:!0,onSubmit:this.delProcessBtn},s.a.createElement("div",{style:{width:"100%",marginTop:"24px"},className:"con-mid"},s.a.createElement("button",{style:{width:"150px",height:"35px"},type:"submit",className:"btn btn-full-red"},!0===this.state.delProcess?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-4px"}}):"Delete")))))):"",s.a.createElement("div",{className:"form-box",style:{borderTopRightRadius:"0px",borderTopLeftRadius:"0px",marginTop:"-10px"}},s.a.createElement("div",{className:"form-inner"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("h4",{className:"con-left",style:{marginBottom:"24px"}},"Update zoom link"),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{id:"link",label:"Zoom link",variant:"outlined",onChange:this.onChange,value:this.state.link,error:t.link,type:"url",style:{width:"100%"},className:K()("",{invalid:t.link})}),s.a.createElement("span",{className:"red-text"},t.link)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{id:"start",label:"Start",variant:"outlined",focused:!0,onChange:this.onChange,value:this.state.start,error:t.start,min:"2021-10-20, 11:47",type:"datetime-local",style:{width:"100%"},className:K()("",{invalid:t.start})}),s.a.createElement("span",{className:"red-text"},t.start)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{id:"end",label:"End",variant:"outlined",focused:!0,onChange:this.onChange,value:this.state.end,error:t.end,type:"datetime-local",style:{width:"100%"},className:K()("",{invalid:t.end})}),s.a.createElement("span",{className:"red-text"},t.end)),s.a.createElement("div",null,s.a.createElement("button",{style:{width:"100%",height:"48px"},type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-4px"}}):"Update"))))))))))}}]),t}(n.Component),la=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(oa),ra=a(24).API_URL,ia=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={loading:!1,blocsLoading:!1,courses:[]},a.componentDidMount=function(){a.setState({loading:!0}),a.setState({blocsLoading:!0}),b.a.get(ra+"/api/instructor/courses",{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){var t=e.data;t.sort(),a.setState({courses:t}),a.setState({loading:!1}),a.setState({blocsLoading:!1})}).catch(function(e){a.setState({loading:!1}),a.setState({blocsLoading:!1})})},a.disableUser=function(e){a.setState({loading:!0});var t=e.target.id,n=t.substring(2);console.log(t),console.log(n),window.confirm("Are you sure you want to disable this course?")?(document.getElementById("d-"+n).innerHTML="Working...",console.log("disable"),b.a.post(ra+"/api/instructor/course/disable",{id:n},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){console.log("disabled"),document.getElementById("d-"+n).innerHTML="Disable",document.getElementById("d-"+n).style.display="none",document.getElementById("e-"+n).style.display="inline-block",document.getElementById("active-"+n).style.display="none",document.getElementById("disabled-"+n).style.display="inline-block",a.setState({loading:!1})}).catch(function(e){a.setState({loading:!1}),console.log(e),alert("An unexpected error occurred, Please reload the page and try again.")})):(a.setState({loading:!1}),console.log("Disable aborted"))},a.enableUser=function(e){a.setState({loading:!0});var t=e.target.id.substring(2);console.log(t),window.confirm("Are you sure you want to enable this course?")?(document.getElementById("e-"+t).innerHTML="Working...",console.log("enable"),b.a.post(ra+"/api/instructor/course/enable",{id:t},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){console.log("enabled"),document.getElementById("e-"+t).innerHTML="Enable",document.getElementById("e-"+t).style.display="none",document.getElementById("d-"+t).style.display="inline-block",document.getElementById("disabled-"+t).style.display="none",document.getElementById("active-"+t).style.display="inline-block",a.setState({loading:!1})}).catch(function(e){console.log(e),a.setState({loading:!1}),alert("An unexpected error occurred, Please reload the page and try again.")})):(a.setState({loading:!1}),console.log("Enable aborted"))},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.auth.user;return 3===t.role?s.a.createElement(z.a,{to:"/all-courses"}):1===t.role?s.a.createElement(z.a,{to:"/admin"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement(be.a,{to:"/instructor",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("h4",null,"All courses"))),s.a.createElement("div",{className:"con-right"},s.a.createElement(be.a,{to:"/instructor/courses/new",className:"btn btn-full-blue",style:{marginRight:"var(--bs-gutter-x,.75rem)",marginLeft:"var(--bs-gutter-x,.75rem)"}},"+ Add new course")),s.a.createElement("div",{className:"container",style:{margin:"30px 0"}},!0===this.state.blocsLoading?s.a.createElement("div",{className:"row blocs"},s.a.createElement("div",{className:"col-sm-6"},s.a.createElement(V.a,{variant:"rectangular"})),s.a.createElement("div",{className:"col-sm-6"},s.a.createElement(V.a,{variant:"rectangular"})),s.a.createElement("div",{className:"col-sm-6"},s.a.createElement(V.a,{variant:"rectangular"})),s.a.createElement("div",{className:"col-sm-6"},s.a.createElement(V.a,{variant:"rectangular"}))):s.a.createElement("div",{className:"row blocs"},0===this.state.courses.length?s.a.createElement("p",{style:{width:"100%"},className:"con-mid"},s.a.createElement("span",{className:"con-mid",style:{border:"1px solid rgba(0,0,0,0.1)",padding:"5px 20px",borderRadius:"10px"}},"No assigned courses")):this.state.courses.map(function(t){return s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("div",{className:"block-body"},s.a.createElement("div",{className:"inner-block-body"},s.a.createElement("span",{style:{display:"inline-block"}},s.a.createElement("b",null,t.name)),1===t.status?s.a.createElement("span",null,s.a.createElement("span",{id:"active-"+t._id,className:"badge badge-success course-status"},"Active"),s.a.createElement("span",{id:"disabled-"+t._id,style:{display:"none"},className:"badge badge-danger course-status"},"Disabled")):s.a.createElement("span",null,s.a.createElement("span",{id:"active-"+t._id,style:{display:"none"},className:"badge badge-success course-status"},"Active"),s.a.createElement("span",{id:"disabled-"+t._id,className:"badge badge-danger course-status"},"Disabled")),s.a.createElement("span",{style:{display:"inline-block"}},s.a.createElement("a",{href:"/instructor/courses/edit/"+t._id,className:"btn icon-master-btn con-mid"},s.a.createElement("i",{className:"material-icons-outlined btn-icon",style:{padding:"7px"}},"edit"))),s.a.createElement("hr",{style:{marginLeft:"-25px",marginRight:"-25px",marginTop:"20px",marginBottom:"20px",height:"2px",backgroundColor:"#d0d3df"}}),s.a.createElement("div",{style:{display:"inline-block",width:"100%",paddingBottom:"10px"},className:"con-right"},s.a.createElement("a",{href:"/instructor/zoom/"+t._id,className:"btn btn-full-blue",style:{margin:"5px 0 5px 0",width:"100px"}},"Zoom link"),s.a.createElement("a",{href:"/instructor/lessons/"+t._id,className:"btn btn-full-dark",style:{margin:"5px 0 5px 10px",width:"100px"}},"Lessons"),1===t.status?s.a.createElement("span",null,s.a.createElement("button",{onClick:e.disableUser,id:"d-"+t._id,className:"btn btn-full-red",style:{margin:"5px 0 5px 10px",display:"inline-block",width:"100px"}},"Disable"),s.a.createElement("button",{onClick:e.enableUser,id:"e-"+t._id,className:"btn btn-full-warn",style:{margin:"5px 0 5px 10px",display:"none",width:"100px"}},"Enable")):s.a.createElement("span",null,s.a.createElement("button",{onClick:e.disableUser,id:"d-"+t._id,className:"btn btn-full-red",style:{margin:"5px 0 5px 10px",display:"none",width:"100px"}},"Disable"),s.a.createElement("button",{onClick:e.enableUser,id:"e-"+t._id,className:"btn btn-full-warn",style:{margin:"5px 0 5px 10px",width:"100px"}},"Enable"))))))})))))))}}]),t}(n.Component),ca=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(ia),ma=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),da=a(24).API_URL,pa=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser()},e.componentDidMount=function(){e.setState({loading:!0}),e.props.auth.isAuthenticated,e.setState({loading:!1})},e.onChange=function(t){e.setState(Object(Z.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){e.setState({loading:!0});var a={name:e.state.name,fee:e.state.fee,summary:e.state.summary};b.a.post(da+"/api/instructor/courses",a,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){e.setState({loading:!1}),e.setState({errors:{}}),e.setState({name:""}),e.setState({fee:""}),e.setState({summary:""}),e.setState({errorOpen:!1}),e.setState({successOpen:!0})}).catch(function(t){e.setState({loading:!1});var a=t.response.data;a.internalError&&e.setState({errorOpen:!0}),console.log(a),e.setState({errors:a})}),t.preventDefault()},e.handleClose=function(){e.setState({successOpen:!1})},e.state={name:"",fee:"",summary:"",successOpen:!1,errorOpen:!1,errors:{}},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=this.state.errors;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):1===e.role?s.a.createElement(z.a,{to:"/admin"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.successOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(ma,{severity:"success",sx:{width:"100%"}},"Course added successfully!")),s.a.createElement(je.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(ma,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement(be.a,{to:"/instructor/courses",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("h4",null,"New Course"))),s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"30px 0 70px 0"}},s.a.createElement("div",{className:"form-box"},s.a.createElement("div",{className:"form-inner"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement("h4",{style:{textAlign:"left",marginBottom:"24px"}},"Add new course"),s.a.createElement(X.a,{id:"name",onChange:this.onChange,variant:"outlined",label:"Course Name",value:this.state.name,error:t.name,type:"text",style:{width:"100%"},className:K()("",{invalid:t.name})}),s.a.createElement("span",{className:"red-text"},t.name)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{id:"fee",onChange:this.onChange,variant:"outlined",label:"Course Fee (LKR)",value:this.state.fee,error:t.fee,type:"number",style:{width:"100%"},className:K()("",{invalid:t.fee})}),s.a.createElement("span",{className:"red-text"},t.fee)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{id:"summary",label:"Course Summary (Max 1300)",variant:"outlined",multiline:!0,rows:5,error:t.summary,onChange:this.onChange,value:this.state.summary,style:{width:"100%"},className:K()("",{invalid:t.summary})}),s.a.createElement("span",{className:"red-text"},t.summary)),s.a.createElement("div",{style:{marginBottom:"30px"}},s.a.createElement("button",{style:{width:"100%",height:"48px"},type:"submit",className:"btn btn-full-blue"},!0===this.state.loading?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-3px"}}):"Add"))))))))))}}]),t}(n.Component),ua=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(pa),ha=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),ga=a(24).API_URL,Ea=window.location.pathname.split("/").pop(),fa=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={name:"",fee:"",summary:"",lessonsCount:"",delProcess:!1,process:!1,changes:!1,successOpen:!1,errorOpen:!1,skeleton:!1,errors:{},courses:[]},a.componentDidMount=function(){a.setState({loading:!0}),a.setState({skeleton:!0}),b.a.get(ga+"/api/instructor/course?id="+Ea,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({loading:!1}),a.setState({skeleton:!1});var t=e.data;if(t[0]._id){a.setState({courses:t});var n=document.getElementById("name"),s=document.getElementById("fee"),o=document.getElementById("summary");n.value=t[0].name,s.value=t[0].fee,o.value=t[0].summary,a.setState({name:t[0].name}),a.setState({fee:t[0].fee}),a.setState({summary:t[0].summary})}else window.location.href="/instructor/courses"}).catch(function(e){a.setState({loading:!1}),a.setState({successOpen:!1}),a.setState({errorOpen:!0}),a.setState({skeleton:!1})}),b.a.get(ga+"/api/instructor/lessons/count?id="+Ea,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){var t=parseInt(e.data);console.log(t),a.setState({lessonsCount:t})}).catch(function(e){a.setState({loading:!1}),a.setState({skeleton:!1}),a.setState({successOpen:!1}),a.setState({errorOpen:!0})})},a.delCourse=function(e){a.setState({loading:!0}),a.setState({delProcess:!0}),window.confirm('Are you sure you want to delete the course "'+a.state.courses.map(function(e){return e.name})+'"?')?(console.log("del"),b.a.post(ga+"/api/instructor/course/delete?id="+Ea,{course:a.state.courses.map(function(e){return e.name})},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({loading:!1}),a.setState({delProcess:!1}),window.location.href="/instructor/courses?m=cdel"}).catch(function(e){a.setState({loading:!1}),a.setState({delProcess:!1}),console.log(e)}),e.preventDefault()):(a.setState({loading:!1}),a.setState({delProcess:!1}),console.log("Deletion aborted"))},a.onBlockDelete=function(e){alert("Please delete all lessons in this course first")},a.onSubmit=function(e){a.setState({changes:!1}),a.setState({loading:!0}),a.setState({process:!0});var t={name:a.state.name,fee:a.state.fee,summary:a.state.summary};b.a.post(ga+"/api/instructor/course/update?id="+Ea,t,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({changes:!1}),a.setState({errors:{}}),a.setState({process:!1}),a.setState({loading:!1}),a.setState({errorOpen:!1}),a.setState({successOpen:!0})}).catch(function(e){a.setState({loading:!1}),a.setState({process:!1});var t=e.response.data;a.setState({errors:t}),t.internalError&&(a.setState({successOpen:!1}),a.setState({errorOpen:!0}))}),e.preventDefault()},a.onChange=function(e){a.setState({changes:!0}),a.setState({fee:document.getElementById("fee").value}),a.setState(Object(Z.a)({},e.target.id,e.target.value))},a.handleClose=function(){a.setState({successOpen:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=this.state.errors;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):1===e.role?s.a.createElement(z.a,{to:"/admin"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.successOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(ha,{severity:"success",sx:{width:"100%"}},"Course updated successfully!")),s.a.createElement(je.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(ha,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement(be.a,{to:"/instructor/courses",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement($e.a,{variant:"h4"},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"200px"}}):s.a.createElement("h4",null,this.state.courses.map(function(e){return e.name})))),s.a.createElement("div",{style:{display:"inline-block",float:"right"}},0===this.state.lessonsCount?s.a.createElement("button",{style:{width:"150px",height:"35px",margin:"1rem 0 2rem 3px"},onClick:this.delCourse,className:"btn btn-full-red"},"Delete"):s.a.createElement("div",{onClick:this.onBlockDelete},s.a.createElement("button",{style:{width:"150px",height:"35px",margin:"1rem 0 2rem 3px"},disabled:!0,className:"btn btn-full-red"},!0===this.state.delProcess?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Delete")))),s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"30px 0"}},s.a.createElement("div",{className:"form-box"},s.a.createElement("div",{className:"form-inner"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement("h4",{style:{textAlign:"left",marginBottom:"24px"}},"Edit course"),!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%",height:"90px",marginTop:"-20px"}}):s.a.createElement(X.a,{id:"name",variant:"outlined",label:"Course Name",onChange:this.onChange,value:this.state.name,error:t.name,type:"text",placeholder:"",style:{width:"100%"},className:K()("",{invalid:t.name})}),s.a.createElement("span",{className:"red-text"},t.name)),s.a.createElement("div",{style:{marginBottom:"24px"}},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%",height:"90px",marginTop:"-37px"}}):s.a.createElement(X.a,{id:"fee",onChange:this.onChange,variant:"outlined",label:"Course Fee (LKR)",value:this.state.fee,error:t.fee,type:"number",style:{width:"100%"},className:K()("",{invalid:t.fee})}),s.a.createElement("span",{className:"red-text"},t.fee)),!0===this.state.skeleton?s.a.createElement("div",{style:{marginBottom:"-4px"}},s.a.createElement(V.a,{style:{width:"100%",height:"190px",marginTop:"-56px"}})):s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{id:"summary",variant:"outlined",label:"Course Summary",multiline:!0,rows:5,type:"text",onChange:this.onChange,value:this.state.summary,placeholder:"",error:t.summary,style:{width:"100%"},className:K()("",{invalid:t.summary})}),s.a.createElement("span",{className:"red-text"},t.summary)),s.a.createElement("div",null,!0===this.state.changes?s.a.createElement("button",{style:{width:"150px",height:"35px"},type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Update"):s.a.createElement("button",{style:{width:"150px",height:"35px"},disabled:!0,type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Update"))))))))))}}]),t}(n.Component),ba=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(fa),ya=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),va=a(24).API_URL,wa=window.location.pathname.split("/").pop(),xa=window.location.href,Sa=new URL(xa).searchParams.get("m"),Na=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={lessons:[],lessonsCount:"",skeleton:!1,successOpen:!1,topics:[],courses:[]},a.componentDidMount=function(){console.log(wa),a.setState({loading:!0}),a.setState({skeleton:!0}),"suc"===Sa&&a.setState({successOpen:!0}),"ldel"===Sa&&a.setState({successOpen:!0},function(){window.onload=function(){window.location.hash||(window.location=window.location+"#loaded",window.location.reload())}}),"tdel"===Sa&&a.setState({successOpen:!0}),b.a.get(va+"/api/instructor/lessons/count?id="+wa,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){var t=e.data;a.setState({lessonsCount:t})}).catch(function(e){a.setState({loading:!1},function(){})}),b.a.get(va+"/api/instructor/lessons?id="+wa,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){var t=e.data;a.setState({lessons:t})}).catch(function(e){a.setState({loading:!1},function(){})}),b.a.get(va+"/api/instructor/course?id="+wa,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){var t=e.data;a.setState({courses:t}),document.getElementById("courseName").innerHTML=t[0].name}).catch(function(e){a.setState({loading:!1},function(){})}),b.a.get(va+"/api/instructor/topicsByCourse?id="+wa,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){var t=e.data;console.log(t),a.setState({topics:t}),a.setState({loading:!1}),a.setState({skeleton:!1})}).catch(function(e){a.setState({loading:!1},function(){})})},a.handleClose=function(){a.setState({successOpen:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.auth.user;return 3===t.role?s.a.createElement(z.a,{to:"/all-courses"}):1===t.role?s.a.createElement(z.a,{to:"/admin"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.successOpen,autoHideDuration:6e3,onClose:this.handleClose},"suc"===Sa?s.a.createElement(ya,{severity:"success",sx:{width:"100%"}},"Lesson added successfully"):"ldel"===Sa?s.a.createElement(ya,{severity:"info",sx:{width:"100%"}},"Lesson deleted successfully"):"tdel"===Sa?s.a.createElement(ya,{severity:"info",sx:{width:"100%"}},"Topic deleted successfully"):""),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("a",{href:"/instructor/courses",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement($e.a,{variant:"h4"},s.a.createElement("h4",{id:"courseName"})))),s.a.createElement("div",{className:"con-right",style:{margin:"30px 0px",width:"100%"}},s.a.createElement("a",{href:"/instructor/lessons/new/"+wa,className:"btn btn-full-blue"},"+ New lesson")),0===this.state.lessonsCount?s.a.createElement("p",{style:{width:"100%",paddingTop:"30px"},className:"con-mid"},s.a.createElement("span",{className:"not-yet"},"No lessons yet")):!0===this.state.skeleton?s.a.createElement("div",{style:{width:"100%"}},s.a.createElement(V.a,{style:{width:"100%",height:"65px"}}),s.a.createElement(V.a,{style:{width:"100%",height:"65px"}}),s.a.createElement(V.a,{style:{width:"100%",height:"65px"}})):s.a.createElement("div",{className:"accordion-outer"},s.a.createElement("div",{className:"accordion",id:"accordionExample"},s.a.createElement("div",{className:"accordion-inner"},this.state.lessons.map(function(t){return s.a.createElement("div",{className:"accordion-item"},s.a.createElement("p",{className:"accordion-header",id:"heading"+t._id},s.a.createElement("span",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+t._id,"aria-expanded":"true","aria-controls":"collapse"+t._id},t.lesson,s.a.createElement("a",{href:"/instructor/lessons/edit/"+t._id+"?c="+t.course,className:"btn icon-master-btn con-mid",style:{marginLeft:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon",style:{padding:"7px"}},"edit")))),s.a.createElement("div",{id:"collapse"+t._id,className:"accordion-collapse collapse","aria-labelledby":"heading"+t._id,"data-bs-parent":"#accordionExample"},s.a.createElement("div",{className:"accordion-body"},s.a.createElement("ol",null,e.state.topics.map(function(e){return t._id===e.lesson?s.a.createElement("li",{className:"accordion-li",style:{listStyle:"decimal-leading-zero"},key:e._id},s.a.createElement("span",{className:"accordion-a"},e.topic),s.a.createElement("div",{style:{display:"inline-block"}},s.a.createElement("a",{href:"/instructor/topics/edit/"+e._id,style:{margin:"5px 10px"},className:"btn icon-master-btn con-mid"},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"edit"))),s.a.createElement("div",{style:{display:"inline-block"}},s.a.createElement("a",{href:"/instructor/topics/video/"+e._id,style:{margin:"5px 2px"},className:"btn icon-master-btn con-mid"},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"smart_display")))):""})),s.a.createElement("a",{href:"/instructor/topics/new/"+t._id,className:"btn icon-master-btn con-mid",style:{width:"150px",fontSize:"14px",marginBottom:"15px"}},s.a.createElement("span",null,"+ New topic")))))}))))))))}}]),t}(n.Component),ka=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(Na),Ca=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),Oa=a(24).API_URL,ja=window.location.pathname.split("/").pop(),Ta=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser()},e.componentDidMount=function(){e.setState({loading:!0}),e.setState({skeleton:!0}),e.props.auth.isAuthenticated,b.a.get(Oa+"/api/instructor/lessons?id="+ja,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){e.setState({loading:!1}),e.setState({skeleton:!1});var a=t.data;e.setState({lessons:a})}).catch(function(t){e.setState({loading:!1}),e.setState({skeleton:!1})}),b.a.get(Oa+"/api/instructor/lessons/last?id="+ja,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){var a=parseInt(t.data[0].position)+1;console.log(a),e.setState({lastLesson:a})}).catch(function(t){e.setState({loading:!1}),e.setState({skeleton:!1})})},e.onChange=function(t){e.setState(Object(Z.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){e.setState({loading:!0}),e.setState({process:!0});var a={lesson:document.getElementById("lesson").value,position:document.getElementById("position").value};b.a.post(Oa+"/api/instructor/lessons/new?id="+ja,a,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){window.location.href="/instructor/lessons/"+ja+"?m=suc",e.setState({errors:{}}),e.setState({process:!1}),e.setState({loading:!1}),e.setState({errorOpen:!1})}).catch(function(t){e.setState({loading:!1}),e.setState({process:!1});var a=t.response.data;e.setState({errors:a}),a.internalError&&e.setState({errorOpen:!0})}),t.preventDefault()},e.handleClose=function(){e.setState({successOpen:!1})},e.state={process:!1,changes:!1,errorOpen:!1,skeleton:!1,errors:{},courses:{},lessons:[]},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=this.state.errors;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):1===e.role?s.a.createElement(z.a,{to:"/admin"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Ca,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},!0===this.state.skeleton?s.a.createElement("a",{href:"/instructor/courses",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"sync")):s.a.createElement("a",{href:"/instructor/lessons/"+ja,className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("h4",null,"New Lesson"))),s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"30px 0"}},s.a.createElement("div",{className:"form-box"},s.a.createElement("div",{className:"form-inner"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("h4",{style:{textAlign:"left",marginBottom:"24px"}},"Add new lesson"),s.a.createElement("div",{style:{marginBottom:"24px"}},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%",height:"53.63px"}}):s.a.createElement(X.a,{id:"lesson",label:"Lesson Name",variant:"outlined",style:{width:"100%"},error:t.lesson,type:"text",className:K()("",{invalid:t.lesson})}),s.a.createElement("span",{className:"red-text"},t.lesson)),s.a.createElement("div",{className:"select-textField"},!0===this.state.skeleton?"":s.a.createElement("span",{className:K()("select-top",{invalidLabel:t.position})},"Lesson Position"),!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%",height:"53.63px"}}):s.a.createElement("select",{id:"position",error:t.position,className:K()("",{invalid:t.position})},this.state.lastLesson?s.a.createElement("option",{selected:"selected",value:parseInt(this.state.lastLesson)},"At the end"):"",s.a.createElement("option",{value:1},"At the beginning"),this.state.lessons.map(function(e){return s.a.createElement("option",{value:e.position+1},"After ",e.lesson)})),s.a.createElement("span",{className:"red-text"},t.position)),s.a.createElement("div",{style:{marginTop:"24px"}},!0===this.state.skeleton?s.a.createElement("button",{style:{width:"100%",height:"48px"},disabled:!0,className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Add"):s.a.createElement("button",{style:{width:"100%",height:"48px"},type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-4px"}}):"Add"))))))))))}}]),t}(n.Component),Aa=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(Ta),Ia=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),Pa=a(24).API_URL,Ba=window.location.pathname.split("/").pop(),Da=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser()},e.componentDidMount=function(){e.setState({loading:!0}),e.setState({skeleton:!0});var t=window.location.href;"success"===new URL(t).searchParams.get("m")&&e.setState({successOpen:!0}),e.props.auth.isAuthenticated,b.a.get(Pa+"/api/instructor/lesson?id="+Ba,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){e.setState({loading:!1}),e.setState({skeleton:!1}),document.getElementById("courseName").innerHTML="New Topic - Lesson: "+t.data[0].lesson;var a=t.data;e.setState({lessonsAll:a})}).catch(function(t){e.setState({loading:!1}),e.setState({errorOpen:!0}),e.setState({skeleton:!1})}),b.a.get(Pa+"/api/instructor/topics?id="+Ba,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){var a=t.data;e.setState({topics:a})}).catch(function(t){e.setState({loading:!1}),e.setState({errorOpen:!0}),e.setState({skeleton:!1})}),b.a.get(Pa+"/api/instructor/topics/last?id="+Ba,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){e.setState({loading:!1}),e.setState({skeleton:!1});var a=parseInt(t.data[0].position)+1;console.log(a),e.setState({topicLast:a})}).catch(function(t){e.setState({loading:!1}),e.setState({skeleton:!1})})},e.onChange=function(t){e.setState(Object(Z.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){e.setState({disable:!0}),e.setState({process:!0}),e.setState({loading:!0});var a={topic:document.getElementById("topic").value,video:document.getElementById("video").value,position:document.getElementById("position").value};b.a.post(Pa+"/api/instructor/topics/new?id="+Ba,a,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){e.setState({disable:!1}),e.setState({errors:{}}),e.setState({process:!1}),e.setState({loading:!1}),e.setState({errorOpen:!1}),window.location="/instructor/topics/new/"+Ba+"?m=success"}).catch(function(t){e.setState({disable:!1}),e.setState({loading:!1}),e.setState({process:!1});var a=t.response.data;a.internalError&&e.setState({errorOpen:!0}),console.log(a),e.setState({errors:a})}),t.preventDefault()},e.handleClose=function(){e.setState({successOpen:!1})},e.state={lesson:Ba,topicLast:"",process:!1,disable:!1,successOpen:!1,errorOpen:!1,skeleton:!1,errors:{},topics:[],lessonsAll:[]},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=this.state.errors;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):1===e.role?s.a.createElement(z.a,{to:"/admin"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.successOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Ia,{severity:"success",sx:{width:"100%"}},"Topic added successfully!")),s.a.createElement(je.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Ia,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},!0===this.state.skeleton?s.a.createElement("a",{href:"/instructor/courses",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"sync")):s.a.createElement("a",{href:"/instructor/lessons/"+this.state.lessonsAll.map(function(e){return e.course}),className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement($e.a,{variant:"h4"},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"150px"}}):s.a.createElement("h4",{id:"courseName"})))),s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"30px 0"}},s.a.createElement("div",{className:"form-box"},s.a.createElement("div",{className:"form-inner"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement("h4",{style:{textAlign:"left",marginBottom:"24px"}},"Add new topic"),s.a.createElement(X.a,{id:"topic",label:"Topic Name",variant:"outlined",error:t.topic,type:"text",style:{width:"100%"},className:K()("",{invalid:t.topic})}),s.a.createElement("span",{className:"red-text"},t.topic)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{id:"video",label:"Video URL",variant:"outlined",error:t.video,type:"text",style:{width:"100%"},className:K()("",{invalid:t.video})}),s.a.createElement("span",{className:"red-text"},t.video)),s.a.createElement("div",{style:{marginBottom:"24px"}},!0===this.state.skeleton||!0===this.state.loading?s.a.createElement("div",{className:"select-textField"},s.a.createElement("span",{className:K()("select-top",{invalidLabel:t.position})},"Lesson Position"),s.a.createElement("br",null),s.a.createElement(V.a,{style:{width:"100%",height:"53.63px",paddingTop:"20px"}}),s.a.createElement("span",{className:"red-text"},t.position)):s.a.createElement("div",{className:"select-textField"},s.a.createElement("span",{className:K()("select-top",{invalidLabel:t.position})},"Lesson Position"),s.a.createElement("select",{id:"position",className:K()("",{invalid:t.position})},this.state.topicLast?s.a.createElement("option",{selected:"selected",value:parseInt(this.state.topicLast)},"At the end"):"",s.a.createElement("option",{value:1},"At the beginning"),this.state.topics.map(function(e){return s.a.createElement("option",{value:e.position+1},"After ",e.topic)})),s.a.createElement("span",{className:"red-text"},t.position))),s.a.createElement("div",null,!0===this.state.disable||!0===this.state.skeleton?s.a.createElement("button",{style:{width:"100%",height:"48px"},disabled:!0,className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-3px"}}):"Add"):s.a.createElement("button",{style:{width:"100%",height:"48px"},type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-3px"}}):"Add"))))))))))}}]),t}(n.Component),_a=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(Da),Ra=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),La=a(24).API_URL,Ua=window.location.pathname.split("/").pop(),Ha=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={lesson:"",position:"",delProcess:!1,process:!1,changes:!1,successOpen:!1,errorOpen:!1,skeleton:!1,courses:[],errors:{}},a.componentDidMount=function(){a.setState({loading:!0}),a.setState({skeleton:!0}),b.a.get(La+"/api/instructor/lesson?id="+Ua,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({loading:!1}),a.setState({skeleton:!1});var t=e.data;if(t[0]._id){a.setState({courses:t});var n=document.getElementById("lesson"),s=document.getElementById("position");n.value=t[0].lesson,s.value=t[0].position,a.setState({lesson:t[0].lesson}),a.setState({position:t[0].position})}else window.location.href="/instructor/lessons/"+a.state.courses.map(function(e){return e.course})}).catch(function(e){a.setState({loading:!1}),a.setState({successOpen:!1}),a.setState({errorOpen:!0}),a.setState({skeleton:!1})})},a.onChange=function(e){a.setState({changes:!0}),a.setState(Object(Z.a)({},e.target.id,e.target.value))},a.delCourse=function(e){a.setState({loading:!0}),a.setState({delProcess:!0}),window.confirm('Are you sure you want to delete the lesson "'+a.state.courses.map(function(e){return e.lesson})+'"?')?(console.log("del"),b.a.post(La+"/api/instructor/lesson/delete?id="+Ua,{},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({loading:!1}),a.setState({delProcess:!1})}).catch(function(e){a.setState({loading:!1}),a.setState({delProcess:!1});var t=e.response.data;t.internalError&&a.setState({errorOpen:!0}),console.log(t),a.setState({errors:t})}),window.location.href="/instructor/lessons/"+a.state.courses.map(function(e){return e.course})+"?m=ldel"):(a.setState({loading:!1}),a.setState({delProcess:!1}),console.log("Deletion aborted")),e.preventDefault()},a.onSubmit=function(e){a.setState({changes:!1}),a.setState({loading:!0}),a.setState({process:!0});var t={lesson:a.state.lesson,position:a.state.position};b.a.post(La+"/api/instructor/lesson/update?id="+Ua,t,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({errors:{}}),a.setState({changes:!1}),a.setState({process:!1}),a.setState({loading:!1}),a.setState({errorOpen:!1}),a.setState({successOpen:!0})}).catch(function(e){a.setState({loading:!1}),a.setState({process:!1});var t=e.response.data;t.internalError&&(a.setState({successOpen:!1}),a.setState({errorOpen:!0})),console.log(t),a.setState({errors:t})}),e.preventDefault()},a.handleClose=function(){a.setState({successOpen:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=this.state.errors;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):1===e.role?s.a.createElement(z.a,{to:"/admin"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.successOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Ra,{severity:"success",sx:{width:"100%"}},"Lesson updated successfully!")),s.a.createElement(je.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Ra,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},!0===this.state.skeleton?s.a.createElement("a",{href:"/instructor/courses",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"sync")):s.a.createElement("a",{href:"/instructor/lessons/"+this.state.courses.map(function(e){return e.course}),className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement($e.a,{variant:"h4"},s.a.createElement("h4",null,"Edit Lesson - \xa0",!0===this.state.skeleton?s.a.createElement(V.a,{style:{display:"inline-block",width:"100px"}}):this.state.courses.map(function(e){return e.lesson})))),s.a.createElement("div",{style:{display:"inline-block",float:"right"}},!0===this.state.skeleton?s.a.createElement("button",{style:{width:"150px",height:"35px",margin:"1rem 0 2rem 3px"},disabled:!0,className:"btn btn-full-red"},!0===this.state.delProcess?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Delete"):s.a.createElement("button",{style:{width:"150px",height:"35px",margin:"1rem 0 2rem 3px"},onClick:this.delCourse,className:"btn btn-full-red"},!0===this.state.delProcess?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Delete"))),s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"30px 0"}},s.a.createElement("div",{className:"form-box"},s.a.createElement("div",{className:"form-inner"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("h4",{style:{textAlign:"left",marginBottom:"24px"}},"Edit Lesson"),s.a.createElement("div",{style:{marginBottom:"24px"}},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%",height:"53.63px"}}):s.a.createElement(X.a,{id:"lesson",label:"Lesson Name",variant:"outlined",style:{width:"100%"},onChange:this.onChange,value:this.state.lesson,error:t.lesson,type:"text",placeholder:"",className:K()("",{invalid:t.lesson})}),s.a.createElement("span",{className:"red-text"},t.lesson)),s.a.createElement("div",null,s.a.createElement(X.a,{id:"position",label:"Lesson position",variant:"outlined",style:{width:"100%",display:"none"},onChange:this.onChange,value:this.state.position,error:t.position,type:"number",placeholder:"",className:K()("",{invalid:t.position})}),s.a.createElement("span",{className:"red-text"},t.position)),s.a.createElement("div",null,!0===this.state.changes?s.a.createElement("button",{style:{width:"150px",height:"35px",marginTop:"1rem"},type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Update"):s.a.createElement("button",{style:{width:"150px",height:"35px",marginTop:"1rem"},disabled:!0,className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Update"))))))))))}}]),t}(n.Component),za=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(Ha),Ma=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),Va=a(24).API_URL,Fa=window.location.pathname.split("/").pop(),Wa=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={topic:"",video:"",position:"",delProcess:!1,process:!1,changes:!1,successOpen:!1,errorOpen:!1,skeleton:!1,errors:{},getTopic:[]},a.componentDidMount=function(){a.setState({loading:!0}),a.setState({skeleton:!0}),b.a.get(Va+"/api/instructor/topic?id="+Fa,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({loading:!1}),a.setState({skeleton:!1});var t=e.data;if(console.log(t[0]._id),t[0]._id){a.setState({getTopic:t});var n=document.getElementById("topic"),s=document.getElementById("video"),o=document.getElementById("position");n.value=t[0].topic,s.value=t[0].video,o.value=t[0].position,a.setState({topic:t[0].topic}),a.setState({video:t[0].video}),a.setState({position:t[0].position})}}).catch(function(e){a.setState({loading:!1}),a.setState({errorOpen:!0}),a.setState({skeleton:!1})})},a.onChange=function(e){a.setState({changes:!0}),a.setState(Object(Z.a)({},e.target.id,e.target.value))},a.delCourse=function(e){a.setState({loading:!0}),a.setState({delProcess:!0}),window.confirm('Are you sure you want to delete the topic "'+a.state.getTopic.map(function(e){return e.topic})+'"?')?(console.log("del"),b.a.post(Va+"/api/instructor/topic/delete?id="+Fa,{},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({loading:!1}),a.setState({delProcess:!1}),window.location.href="/instructor/lessons/"+a.state.getTopic.map(function(e){return e.course})+"?m=tdel"}).catch(function(e){a.setState({loading:!1}),a.setState({delProcess:!1});var t=e.response.data;t.internalError&&a.setState({errorOpen:!0}),console.log(t),a.setState({errors:t})})):(a.setState({loading:!1}),a.setState({delProcess:!1}),console.log("Deletion aborted")),e.preventDefault()},a.onSubmit=function(e){a.setState({changes:!1}),a.setState({loading:!0}),a.setState({process:!0});var t={topic:a.state.topic,video:a.state.video,position:a.state.position};b.a.post(Va+"/api/instructor/topic/update?id="+Fa,t,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({changes:!1}),a.setState({errors:{}}),a.setState({process:!1}),a.setState({loading:!1}),a.setState({errorOpen:!1}),a.setState({successOpen:!0})}).catch(function(e){a.setState({loading:!1}),a.setState({process:!1});var t=e.response.data;t.internalError&&a.setState({errorOpen:!0}),console.log(t),a.setState({errors:t})}),e.preventDefault()},a.handleClose=function(){a.setState({successOpen:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=this.state.errors;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):1===e.role?s.a.createElement(z.a,{to:"/admin"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.successOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Ma,{severity:"success",sx:{width:"100%"}},"Topic updated successfully!")),s.a.createElement(je.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Ma,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("a",{href:"/instructor/lessons/"+this.state.getTopic.map(function(e){return e.course}),className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement($e.a,{variant:"h4"},!0===this.state.skeleton?s.a.createElement("h4",{style:{display:"inline-block"}},"Edit Topic -\xa0",s.a.createElement(V.a,{style:{width:"150px",display:"inline-block"}})):s.a.createElement("h4",null,"Edit Topic -\xa0",this.state.getTopic.map(function(e){return e.topic})))),s.a.createElement("div",{style:{display:"inline-block",float:"right"}},!0===this.state.skeleton?s.a.createElement("button",{style:{width:"150px",height:"35px",margin:"1rem 0 2rem 3px"},disabled:!0,className:"btn btn-full-red"},!0===this.state.delProcess?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Delete"):s.a.createElement("button",{style:{width:"150px",height:"35px",margin:"1rem 0 2rem 3px"},onClick:this.delCourse,className:"btn btn-full-red"},!0===this.state.delProcess?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Delete"))),s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"30px 0"}},s.a.createElement("div",{className:"form-box"},s.a.createElement("div",{className:"form-inner"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("h4",{style:{textAlign:"left",marginBottom:"24px"}},"Edit Topic"),s.a.createElement("div",{style:{marginBottom:"24px"}},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%",height:"53.36px"}}):s.a.createElement(X.a,{id:"topic",label:"Topic Name",variant:"outlined",onChange:this.onChange,value:this.state.topic,error:t.topic,type:"text",style:{width:"100%"},className:K()("",{invalid:t.topic})}),s.a.createElement("span",{className:"red-text"},t.topic)),s.a.createElement("div",{style:{marginBottom:"24px"}},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%",height:"53.36px"}}):s.a.createElement(X.a,{id:"video",label:"Video URL",variant:"outlined",onChange:this.onChange,value:this.state.video,error:t.video,type:"text",style:{width:"100%"},className:K()("",{invalid:t.video})}),s.a.createElement("span",{className:"red-text"},t.video)),s.a.createElement("div",{style:{marginBottom:"24px",display:"none"}},s.a.createElement(X.a,{id:"position",label:"Position",variant:"outlined",onChange:this.onChange,value:this.state.position,error:t.position,type:"number",style:{width:"100%"},className:K()("",{invalid:t.position})}),s.a.createElement("span",{className:"red-text"},t.position)),s.a.createElement("div",{className:"col s12"},!0===this.state.changes?s.a.createElement("button",{style:{width:"150px",height:"35px"},type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Update"):s.a.createElement("button",{style:{width:"150px",height:"35px"},disabled:!0,type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Update"))))))))))}}]),t}(n.Component),Ga=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(Wa),Za=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),qa=a(24).API_URL,Ja=window.location.pathname.split("/").pop(),Ka=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={topic:"",video:"",position:"",process:!1,changes:!1,successOpen:!1,errorOpen:!1,skeleton:!1,errors:{},getTopic:[]},a.componentDidMount=function(){a.setState({loading:!0}),a.setState({skeleton:!0}),b.a.get(qa+"/api/instructor/topic?id="+Ja,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({loading:!1}),a.setState({skeleton:!1});var t=e.data;if(console.log(t[0]._id),t[0]._id){a.setState({getTopic:t});var n=document.getElementById("topic"),s=document.getElementById("video"),o=document.getElementById("position");n.value=t[0].topic,s.value=t[0].video,o.value=t[0].position,a.setState({topic:t[0].topic}),a.setState({video:t[0].video}),a.setState({position:t[0].position}),a.setState({getTopic:t})}}).catch(function(e){a.setState({loading:!1}),a.setState({errorOpen:!0}),a.setState({skeleton:!1})})},a.onChange=function(e){a.setState({changes:!0}),a.setState(Object(Z.a)({},e.target.id,e.target.value))},a.onSubmit=function(e){a.setState({process:!0}),a.setState({loading:!0});var t={topic:a.state.topic,video:a.state.video,position:a.state.position};b.a.post(qa+"/api/instructor/topic/update?id="+Ja,t,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({changes:!1}),a.setState({errors:{}}),a.setState({process:!1}),a.setState({loading:!1}),a.setState({errorOpen:!1}),a.setState({successOpen:!0})}).catch(function(e){a.setState({loading:!1}),a.setState({process:!1});var t=e.response.data;t.internalError&&a.setState({errorOpen:!0}),console.log(t),a.setState({errors:t})}),e.preventDefault()},a.handleClose=function(){a.setState({successOpen:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=this.state.errors;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):1===e.role?s.a.createElement(z.a,{to:"/admin"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.successOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Za,{severity:"success",sx:{width:"100%"}},"Video URL updated successfully!")),s.a.createElement(je.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Za,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},!0===this.state.skeleton?s.a.createElement("a",{href:"/instructor/courses",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"sync")):s.a.createElement("a",{href:"/instructor/lessons/"+this.state.getTopic.map(function(e){return e.course}),className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement($e.a,{variant:"h4"},this.state.skeleton?s.a.createElement("h4",{style:{display:"inline-block"}},"Video -\xa0",s.a.createElement(V.a,{style:{width:"150px",display:"inline-block"}})):s.a.createElement("h4",null,"Video - ",this.state.getTopic.map(function(e){return e.topic}))))),s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"24px 0 0 0"}},s.a.createElement("div",{className:"form-box"},s.a.createElement("div",{className:"form-inner"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("h4",{style:{textAlign:"left",marginBottom:"24px"}},"Edit Video URL"),s.a.createElement("div",{style:{marginBottom:"24px",display:"none"}},s.a.createElement(X.a,{id:"topic",label:"Topic Name",variant:"outlined",onChange:this.onChange,value:this.state.topic,error:t.topic,type:"text",style:{width:"100%"},className:K()("",{invalid:t.topic})}),s.a.createElement("span",{className:"red-text"},t.topic)),s.a.createElement("div",{style:{marginBottom:"24px"}},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%",height:"53.36px"}}):s.a.createElement(X.a,{id:"video",label:"Video URL",variant:"outlined",onChange:this.onChange,value:this.state.video,error:t.video,type:"text",style:{width:"100%"},className:K()("",{invalid:t.video})}),s.a.createElement("span",{className:"red-text"},t.video)),s.a.createElement("div",{style:{marginBottom:"24px",display:"none"}},s.a.createElement(X.a,{id:"position",label:"Position",variant:"outlined",onChange:this.onChange,value:this.state.position,error:t.position,type:"number",style:{width:"100%"},className:K()("",{invalid:t.position})}),s.a.createElement("span",{className:"red-text"},t.position)),s.a.createElement("div",{className:"col s12"},!0===this.state.changes?s.a.createElement("button",{style:{width:"150px",height:"35px"},type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Update"):s.a.createElement("button",{style:{width:"150px",height:"35px"},disabled:!0,className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Update")))))),s.a.createElement("div",{className:"con-mid",style:{width:"100%",marginBottom:"48px"}},s.a.createElement("div",{className:"main-tv",style:{height:"100%"},id:"thisTopic2"},s.a.createElement("div",{className:"con-mid"},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%",height:"600px",marginTop:"-100px"}}):s.a.createElement("iframe",{className:"tv-iframe",src:this.state.getTopic.map(function(e){return e.video}),frameBorder:0,allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0,title:this.state.getTopic.map(function(e){return e.topic})}))))))))}}]),t}(n.Component),Xa=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(Ka),Ya=a(24).API_URL,$a=window.location.pathname.split("/").pop(),Qa=(new Date).toISOString();console.log(Qa);var en=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser()},e.componentDidMount=function(){e.setState({loading:!0}),b.a.get(Ya+"/api/instructor/course?id="+$a,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){e.setState({loading:!1});var a=t.data;e.setState({lessonsAll:a});var n=new Date(a[0].zoomStart),s=new Date(a[0].zoomEnd);document.getElementById("courseName").innerHTML="New zoom - "+a[0].name,document.getElementById("zoomStart").innerHTML=String(n),document.getElementById("zoomEnd").innerHTML=String(s)}).catch(function(t){e.setState({loading:!1},function(){})})},e.onChange=function(t){e.setState(Object(Z.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){if(e.setState({process:!0}),e.state.start>e.state.end)return alert("invalid dates and times");if(new Date(e.state.start).getTime()<(new Date).getTime())return alert("invalid starting date & time");if(new Date(e.state.end).getTime()<(new Date).getTime())return alert("invalid ending date & time");var a={link:e.state.link,start:e.state.start,end:e.state.end};b.a.post(Ya+"/api/instructor/zoom/new?course="+$a,a,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){e.setState({process:!1}),window.location.reload()}).catch(function(t){e.setState({process:!1});var a=t.response.data;e.setState({errors:a})}),t.preventDefault()},e.delProcessBtn=function(t){b.a.post(Ya+"/api/instructor/zoom/delete?course="+$a,{},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(t){e.setState({delProcess:!1}),window.location.reload()}).catch(function(t){e.setState({delProcess:!1});var a=t.response.data;e.setState({errors:a})}),t.preventDefault()},e.state={link:"",zoomStart:"",zoomEnd:"",start:"",end:"",loading:!1,process:!1,delProcess:!1,errors:{},lessonsAll:[]},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=this.state.errors;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):1===e.role?s.a.createElement(z.a,{to:"/admin"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading||!0===this.state.process?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("a",{href:"/instructor/courses",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement(De.a,{variant:"h4"},!0===this.state.loading?s.a.createElement(V.a,{style:{width:"150px"}}):s.a.createElement("h4",{id:"courseName"})))),!0===this.state.loading?s.a.createElement("div",{style:{width:"100%",height:"calc(100vh - 103px)"},className:"con-mid"},s.a.createElement(Y.a,null)):s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"30px 0 50px 0"}},Qa<=this.state.lessonsAll.map(function(e){return e.zoomEnd})?s.a.createElement("div",{className:"form-box con-left",style:{backgroundColor:"#ffffff",zIndex:"1"}},s.a.createElement("div",{className:"form-inner"},this.state.lessonsAll.map(function(e){return e.zoomStart})<=Qa?s.a.createElement("h4",null,"Ongoing zoom"):s.a.createElement("h4",null,"Upcoming zoom"),s.a.createElement("div",{className:"curZoom"},s.a.createElement("p",null,s.a.createElement("b",null,"Link:"),s.a.createElement("br",null),s.a.createElement("a",{href:this.state.lessonsAll.map(function(e){return e.zoom}),target:"_blank"},this.state.lessonsAll.map(function(e){return e.zoom}))),s.a.createElement("p",null,s.a.createElement("b",null,"Start:"),s.a.createElement("br",null),s.a.createElement("span",{id:"zoomStart"})),s.a.createElement("p",null,s.a.createElement("b",null,"End:"),s.a.createElement("br",null),s.a.createElement("span",{id:"zoomEnd"})),s.a.createElement("form",{noValidate:!0,onSubmit:this.delProcessBtn},s.a.createElement("div",{style:{width:"100%",marginTop:"24px"},className:"con-mid"},s.a.createElement("button",{style:{width:"150px",height:"35px"},type:"submit",className:"btn btn-full-red"},!0===this.state.delProcess?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-4px"}}):"Delete")))))):"",s.a.createElement("div",{className:"form-box",style:{borderTopRightRadius:"0px",borderTopLeftRadius:"0px",marginTop:"-10px"}},s.a.createElement("div",{className:"form-inner"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("h4",{className:"con-left",style:{marginBottom:"24px"}},"Update zoom link"),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{id:"link",label:"Zoom link",variant:"outlined",onChange:this.onChange,value:this.state.link,error:t.link,type:"url",style:{width:"100%"},className:K()("",{invalid:t.link})}),s.a.createElement("span",{className:"red-text"},t.link)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{id:"start",label:"Start",variant:"outlined",focused:!0,onChange:this.onChange,value:this.state.start,error:t.start,min:"2021-10-20, 11:47",type:"datetime-local",style:{width:"100%"},className:K()("",{invalid:t.start})}),s.a.createElement("span",{className:"red-text"},t.start)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{id:"end",label:"End",variant:"outlined",focused:!0,onChange:this.onChange,value:this.state.end,error:t.end,type:"datetime-local",style:{width:"100%"},className:K()("",{invalid:t.end})}),s.a.createElement("span",{className:"red-text"},t.end)),s.a.createElement("div",null,s.a.createElement("button",{style:{width:"100%",height:"48px"},type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-4px"}}):"Update"))))))))))}}]),t}(n.Component),tn=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(en),an=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),nn=a(24).API_URL,sn=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={errorOpen:!1,delProcess:!1,disProcess:!1,eProcess:!1,loading:!1,skeleton:!1,payments:[],courses:[]},a.componentDidMount=function(){a.setState({skeleton:!0}),a.setState({loading:!0}),b.a.get(nn+"/api/admin/payments",{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({errorOpen:!1}),a.setState({loading:!1}),a.setState({skeleton:!1});var t=e.data;a.setState({payments:t})}).catch(function(e){a.setState({errorOpen:!0}),a.setState({loading:!1}),a.setState({skeleton:!1})}),b.a.get(nn+"/api/admin/courses",{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){var t=e.data;a.setState({courses:t})}).catch(function(e){a.setState({loading:!1},function(){})})},a.removePayment=function(e){var t=e.target.id.substring(2);a.setState({loading:!0}),a.setState({delProcess:!0}),console.log(t),window.confirm("Are you sure you want to remove this payment?")?(console.log("del"),b.a.post(nn+"/api/admin/delete-payment",{id:t},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){console.log("deleted"),a.setState({errorOpen:!1}),a.setState({loading:!1}),a.setState({delProcess:!1}),window.location.reload()}).catch(function(e){a.setState({errorOpen:!0}),a.setState({loading:!1}),a.setState({delProcess:!1}),console.log(e)})):(console.log("Deletion aborted"),a.setState({loading:!1}),a.setState({delProcess:!1}))},a.approvePayment=function(e){var t=e.target.id.substring(2);a.setState({loading:!0}),a.setState({eProcess:!0}),console.log(t),window.confirm("Are you sure you want to approve this payment?")?(console.log("approve"),b.a.post(nn+"/api/admin/approve-payment",{id:t},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){console.log("approved"),a.setState({errorOpen:!1}),a.setState({loading:!1}),a.setState({eProcess:!1}),window.location.reload()}).catch(function(e){a.setState({errorOpen:!0}),a.setState({loading:!1}),a.setState({eProcess:!1}),console.log(e)})):(console.log("Approval aborted"),a.setState({loading:!1}),a.setState({eProcess:!1}))},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.auth.user;if(3===t.role)return s.a.createElement(z.a,{to:"/all-courses"});if(2===t.role)return s.a.createElement(z.a,{to:"/instructor"});var a=[{name:"course",label:"Course",options:{filter:!0,sort:!0}},{name:"name",label:"Name",options:{filter:!0,sort:!0}},{name:"tel",label:"Tel",options:{filter:!0,sort:!1}},{name:"email",label:"Email",options:{filter:!0,sort:!0}},{name:"actions",label:"Actions",options:{filter:!1,sort:!1}}],n=[];this.state.payments.map(function(t){return 0===t.status?n.push({course:e.state.courses.map(function(e){return e._id===t.course?e.name:""}),name:t.user,tel:t.tel,email:t.email,actions:s.a.createElement("div",null,s.a.createElement("a",{href:"/admin/users/payments/view/"+t._id,target:"_blank",className:"btn pay-btn btn-full-blue"},"View"),s.a.createElement("button",{id:"a-"+t._id,onClick:e.approvePayment,className:"btn pay-btn btn-full-green"},"Approve"),s.a.createElement("a",{href:"tel:"+t.tel,className:"btn pay-btn btn-full-dark"},"Voice call"),s.a.createElement("a",{href:"mailto:"+t.email,target:"_blank",className:"btn pay-btn btn-full-dark"},"Email"),s.a.createElement("button",{id:"r-"+t._id,onClick:e.removePayment,className:"btn pay-btn btn-full-red"},"Remove"))}):""});var o=[];this.state.payments.map(function(t){return 3===t.status?o.push({course:e.state.courses.map(function(e){return e._id===t.course?e.name:""}),name:t.user,tel:t.tel,email:t.email,actions:s.a.createElement("div",null,s.a.createElement("a",{href:"/admin/users/payments/view/"+t._id,target:"_blank",className:"btn pay-btn btn-full-blue"},"View"),s.a.createElement("a",{href:"tel:"+t.tel,className:"btn pay-btn btn-full-dark"},"Voice call"),s.a.createElement("a",{href:"mailto:"+t.email,target:"_blank",className:"btn pay-btn btn-full-dark"},"Email"),s.a.createElement("button",{id:"r-"+t._id,onClick:e.removePayment,className:"btn pay-btn btn-full-red"},"Remove"))}):""});var l=[];return this.state.payments.map(function(t){return 4===t.status?l.push({course:t.course,name:t.user,tel:t.tel,email:t.email,actions:s.a.createElement("div",null,s.a.createElement("a",{href:"/admin/users/payments/view/"+t._id,target:"_blank",className:"btn pay-btn btn-full-blue"},"View"),s.a.createElement("a",{href:"tel:"+t.tel,className:"btn pay-btn btn-full-dark"},"Voice call"),s.a.createElement("a",{href:"mailto:"+t.email,target:"_blank",className:"btn pay-btn btn-full-dark"},"Email"),s.a.createElement("button",{id:"r-"+t._id,onClick:e.removePayment,className:"btn pay-btn btn-full-red"},"Remove"))}):""}),s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(we.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(an,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement(be.a,{to:"/admin",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("h4",null,"Course Payments"))),s.a.createElement("div",{style:{width:"100%"},className:"con-right"},s.a.createElement("a",{href:"/admin/users/approved-payments",className:"btn btn-full-blue"},"History")),s.a.createElement("div",{style:{marginBottom:"100px"}},s.a.createElement("h4",null,"Pending Approvals"),!0===this.state.skeleton?s.a.createElement("div",{className:"form-box",style:{width:"100%",marginTop:"50px",height:"400px"}},s.a.createElement("div",{className:"form-inner",style:{padding:"10px",height:"100%"}},s.a.createElement("div",{style:{width:"100%",height:"100%"},className:"con-mid"},s.a.createElement(xe.a,null)))):s.a.createElement("div",{className:"form-box",style:{width:"100%",marginTop:"50px"}},s.a.createElement("div",{className:"form-inner",style:{padding:"10px"}},s.a.createElement(ve.a,{title:"Payments",data:n,columns:a,options:{search:!0,paging:!1,filtering:!0,exportButton:!0,selectableRows:!1}})))),s.a.createElement("hr",{style:{marginBottom:"24px"}}),s.a.createElement("div",{style:{marginBottom:"50px"}},s.a.createElement("h4",null,"Pending Deletions"),s.a.createElement("p",null,"Payments made by deleted users"),!0===this.state.skeleton?s.a.createElement("div",{className:"form-box",style:{width:"100%",marginTop:"50px",height:"400px"}},s.a.createElement("div",{className:"form-inner",style:{padding:"10px",height:"100%"}},s.a.createElement("div",{style:{width:"100%",height:"100%"},className:"con-mid"},s.a.createElement(xe.a,null)))):s.a.createElement("div",{className:"form-box",style:{width:"100%",marginTop:"50px"}},s.a.createElement("div",{className:"form-inner",style:{padding:"10px"}},s.a.createElement(ve.a,{title:"Payments",data:o,columns:a,options:{search:!0,paging:!1,filtering:!0,exportButton:!0,selectableRows:!1}})))),s.a.createElement("div",{style:{marginBottom:"50px"}},s.a.createElement("h4",null,"Pending Deletions"),s.a.createElement("p",null,"Payment made for the deleted courses"),!0===this.state.skeleton?s.a.createElement("div",{className:"form-box",style:{width:"100%",marginTop:"50px",height:"400px"}},s.a.createElement("div",{className:"form-inner",style:{padding:"10px",height:"100%"}},s.a.createElement("div",{style:{width:"100%",height:"100%"},className:"con-mid"},s.a.createElement(xe.a,null)))):s.a.createElement("div",{className:"form-box",style:{width:"100%",marginTop:"50px"}},s.a.createElement("div",{className:"form-inner",style:{padding:"10px"}},s.a.createElement(ve.a,{title:"Payments",data:l,columns:a,options:{search:!0,paging:!1,filtering:!0,exportButton:!0,selectableRows:!1}}))))))))}}]),t}(n.Component),on=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(sn),ln=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),rn=a(24).API_URL,cn=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={errorOpen:!1,delProcess:!1,disProcess:!1,eProcess:!1,loading:!1,skeleton:!1,payments:[],courses:[]},a.componentDidMount=function(){a.setState({skeleton:!0}),a.setState({loading:!0}),b.a.get(rn+"/api/admin/approved-payments",{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({errorOpen:!1}),a.setState({loading:!1}),a.setState({skeleton:!1});var t=e.data;a.setState({payments:t})}).catch(function(e){a.setState({errorOpen:!0}),a.setState({loading:!1}),a.setState({skeleton:!1})}),b.a.get(rn+"/api/admin/courses",{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){var t=e.data;a.setState({courses:t})}).catch(function(e){a.setState({loading:!1},function(){})})},a.disapprovePayment=function(e){var t=e.target.id.substring(2);a.setState({loading:!0}),a.setState({eProcess:!0}),console.log(t),window.confirm("Are you sure you want to disapprove this payment?")?(console.log("Disapprove"),b.a.post(rn+"/api/admin/disapprove-payment",{id:t},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){console.log("Disapproved"),a.setState({errorOpen:!1}),a.setState({loading:!1}),a.setState({eProcess:!1}),window.location.reload()}).catch(function(e){a.setState({errorOpen:!0}),a.setState({loading:!1}),a.setState({eProcess:!1}),console.log(e)})):(console.log("Disapprove aborted"),a.setState({loading:!1}),a.setState({eProcess:!1}))},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.auth.user;if(3===t.role)return s.a.createElement(z.a,{to:"/all-courses"});if(2===t.role)return s.a.createElement(z.a,{to:"/instructor"});var a=[];return this.state.payments.map(function(t){return 1===t.status?a.push({course:e.state.courses.map(function(e){return e._id===t.course?e.name:""}),name:t.user,tel:t.tel,email:t.email,actions:s.a.createElement("div",null,s.a.createElement("a",{href:"/admin/users/payments/view/"+t._id,target:"_blank",className:"btn pay-btn btn-full-blue"},"View"),s.a.createElement("button",{id:"a-"+t._id,onClick:e.disapprovePayment,className:"btn pay-btn btn-full-red"},"Disapprove"),s.a.createElement("a",{href:"tel:"+t.tel,className:"btn pay-btn btn-full-dark"},"Voice call"),s.a.createElement("a",{href:"mailto:"+t.email,target:"_blank",className:"btn pay-btn btn-full-dark"},"Email"))}):""}),s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(we.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(ln,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement(be.a,{to:"/admin/users/payments",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("h4",null,"Approved Payments"))),!0===this.state.skeleton?s.a.createElement("div",{className:"form-box",style:{width:"100%",marginTop:"50px",height:"400px"}},s.a.createElement("div",{className:"form-inner",style:{padding:"10px",height:"100%"}},s.a.createElement("div",{style:{width:"100%",height:"100%"},className:"con-mid"},s.a.createElement(xe.a,null)))):s.a.createElement("div",{className:"form-box",style:{width:"100%",marginTop:"50px"}},s.a.createElement("div",{className:"form-inner",style:{padding:"10px"}},s.a.createElement(ve.a,{title:"Users",data:a,columns:[{name:"course",label:"Course",options:{filter:!0,sort:!0}},{name:"name",label:"Name",options:{filter:!0,sort:!0}},{name:"tel",label:"Tel",options:{filter:!0,sort:!1}},{name:"email",label:"Email",options:{filter:!0,sort:!0}},{name:"actions",label:"Actions",options:{filter:!1,sort:!1}}],options:{search:!0,paging:!1,filtering:!0,exportButton:!0,selectableRows:!1}})))))))}}]),t}(n.Component),mn=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(cn),dn=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),pn=a(24).API_URL,un=window.location.href,hn=new URL(un).searchParams.get("m"),gn=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={errorOpen:!1,delProcess:!1,disProcess:!1,eProcess:!1,loading:!1,skeleton:!1,persons:[],courses:[]},a.componentDidMount=function(){a.setState({skeleton:!0}),a.setState({loading:!0}),"suc"===hn&&a.setState({successOpen:!0}),b.a.get(pn+"/api/admin/instructors",{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({errorOpen:!1});var t=e.data;a.setState({loading:!1}),a.setState({skeleton:!1}),a.setState({persons:t})}).catch(function(e){a.setState({errorOpen:!0}),a.setState({loading:!1}),a.setState({skeleton:!1})}),b.a.get(pn+"/api/admin/courses/first",{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({loading:!1}),a.setState({skeleton:!1});var t=e.data;a.setState({courses:t})}).catch(function(e){a.setState({loading:!1}),a.setState({skeleton:!1})})},a.delUser=function(e){var t=e.target.id.substring(2);a.setState({loading:!0}),a.setState({delProcess:!0}),console.log(t),window.confirm("Are you sure you want to remove this user permanently?")&&window.confirm("Second Confirmation: Are you sure you want to remove this user permanently?")?(console.log("delete"),b.a.post(pn+"/api/admin/users/delete",{id:t},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({errorOpen:!1}),a.setState({loading:!1}),a.setState({delProcess:!1}),window.location.reload()}).catch(function(e){a.setState({errorOpen:!0}),a.setState({loading:!1}),a.setState({delProcess:!1}),console.log(e)})):(console.log("Deletion aborted"),a.setState({loading:!1}),a.setState({delProcess:!1}))},a.disableUser=function(e){a.setState({loading:!0}),a.setState({disProcess:!0});var t=e.target.id.substring(2);console.log(t),window.confirm("Are you sure you want to disable this user?")?(console.log("disable"),b.a.post(pn+"/api/admin/users/disable",{id:t},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({errorOpen:!1}),console.log("disabled"),a.setState({loading:!1}),a.setState({disProcess:!1}),document.getElementById("d-"+t).style.display="none",document.getElementById("e-"+t).style.display="inline-block",document.getElementById("ab-"+t).style.display="none",document.getElementById("db-"+t).style.display="inline-block"}).catch(function(e){a.setState({errorOpen:!0}),a.setState({loading:!1}),a.setState({disProcess:!1}),console.log(e)})):(console.log("Disable aborted"),a.setState({loading:!1}),a.setState({disProcess:!1}))},a.enableUser=function(e){a.setState({loading:!0}),a.setState({eProcess:!0});var t=e.target.id.substring(2);console.log(t),window.confirm("Are you sure you want to enable this user?")?(console.log("enable"),b.a.post(pn+"/api/admin/users/enable",{id:t},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({errorOpen:!1}),console.log("enabled"),a.setState({loading:!1}),a.setState({eProcess:!1}),document.getElementById("e-"+t).style.display="none",document.getElementById("d-"+t).style.display="inline-block",document.getElementById("db-"+t).style.display="none",document.getElementById("ab-"+t).style.display="inline-block"}).catch(function(e){a.setState({errorOpen:!0}),a.setState({loading:!1}),a.setState({eProcess:!1}),console.log(e)})):(console.log("Enable aborted"),a.setState({loading:!1}),a.setState({eProcess:!1}))},a.handleClose=function(){a.setState({errorOpen:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.auth.user;if(3===t.role)return s.a.createElement(z.a,{to:"/all-courses"});if(2===t.role)return s.a.createElement(z.a,{to:"/instructor"});var a=[];return this.state.persons.map(function(t){return a.push({name:1===t.status?s.a.createElement("div",null,s.a.createElement("span",{id:"ab-"+t._id},t.name,"\xa0",s.a.createElement("span",{className:"badge badge-success"},"Active")),s.a.createElement("span",{id:"db-"+t._id,style:{display:"none"}},t.name,"\xa0",s.a.createElement("span",{className:"badge badge-danger"},"Disabled"))):s.a.createElement("div",null,s.a.createElement("span",{id:"db-"+t._id},t.name,"\xa0",s.a.createElement("span",{className:"badge badge-danger"},"Disabled")),s.a.createElement("span",{id:"ab-"+t._id,style:{display:"none"}},t.name,"\xa0",s.a.createElement("span",{className:"badge badge-success"},"Active"))),email:t.email,tel:t.tel,actions:s.a.createElement("div",{className:"muiDt"},s.a.createElement("a",{href:"/admin/users/edit/"+t._id,className:"btn btn-full-blue btn-tbl-action"},"Edit"),e.state.courses.map(function(e){return e._id?s.a.createElement("a",{href:"/admin/instructors/assign/"+t._id,className:"btn btn-full-green btn-tbl-action"},"Assign"):s.a.createElement("button",{disabled:!0,className:"btn btn-full-green btn-tbl-action"},"Assign")}),1===t.status?s.a.createElement("div",{style:{display:"inline-block"}},s.a.createElement("button",{className:"btn btn-full-warn btn-tbl-action",id:"d-"+t._id,style:{display:"inline-block"},onClick:e.disableUser},"Disable"),s.a.createElement("button",{className:"btn btn-full-blue btn-tbl-action",id:"e-"+t._id,style:{display:"none"},onClick:e.enableUser},"Enable")):s.a.createElement("div",{style:{display:"inline-block"}},s.a.createElement("button",{className:"btn btn-full-blue btn-tbl-action",id:"e-"+t._id,style:{display:"inline-block"},onClick:e.enableUser},"Enable"),s.a.createElement("button",{className:"btn btn-full-warn btn-tbl-action",id:"d-"+t._id,style:{display:"none"},onClick:e.disableUser},"Disable")),s.a.createElement("button",{className:"btn btn-full-red btn-tbl-action",id:"r-"+t._id,onClick:e.delUser},"Remove"))})}),s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(we.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(dn,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement(be.a,{to:"/admin",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("h4",null,"Instructors"))),s.a.createElement("div",{style:{width:"100%"},className:"con-right"},s.a.createElement("a",{href:"/admin/instructors/new",style:{width:"150px"},className:"btn btn-full-blue"},"+ New instructor")),!0===this.state.skeleton?s.a.createElement("div",{className:"form-box",style:{width:"100%",marginTop:"50px",height:"400px"}},s.a.createElement("div",{className:"form-inner",style:{padding:"10px",height:"100%"}},s.a.createElement("div",{style:{width:"100%",height:"100%"},className:"con-mid"},s.a.createElement(xe.a,null)))):s.a.createElement("div",{className:"form-box",style:{width:"100%",marginTop:"50px"}},s.a.createElement("div",{className:"form-inner",style:{padding:"10px"}},s.a.createElement(ve.a,{title:"Users",data:a,columns:[{name:"name",label:"Name",options:{filter:!0,sort:!0}},{name:"tel",label:"Tel",options:{filter:!0,sort:!1}},{name:"email",label:"Email",options:{filter:!0,sort:!0}},{name:"actions",label:"Actions",options:{filter:!1,sort:!1}}],options:{search:!0,paging:!1,filtering:!0,exportButton:!0,selectableRows:!1}})))))))}}]),t}(n.Component),En=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(gn),fn=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){e.setState(Object(Z.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){e.setState({process:!0}),t.preventDefault();var a={name:e.state.name,tel:e.state.tel,email:e.state.email,role_req:2,password:e.state.password,password2:e.state.password2};e.props.instructorAdminRegisterUser(a,e.props.history)},e.state={name:"",tel:"",email:"",password:"",password2:"",process:!1,errors:{}},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.errors&&(this.setState({process:!1}),this.setState({errors:e.errors}))}},{key:"render",value:function(){var e=this.state.errors;return s.a.createElement("div",{className:"mother"},!0===this.state.process?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s8 offset-s2"},s.a.createElement("div",{id:"head-topic",style:{marginTop:"64px"}},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement(be.a,{to:"/admin/instructors",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("h4",null,"Register instructors"))),s.a.createElement("div",{className:"login-card form-card con-mid",style:{minHeight:"inherit"}},s.a.createElement("div",{className:"form-box",style:{marginBottom:"50px"}},s.a.createElement("div",{className:"form-inner"},s.a.createElement("div",{className:"col s12",style:{marginBottom:"24px"}},s.a.createElement("h4",null,"Add New Instructor")),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{onChange:this.onChange,autoComplete:"new-name",variant:"outlined",label:"Name",style:{width:"100%"},value:this.state.name,error:e.name,id:"name",type:"text",className:K()("",{invalid:e.name})}),s.a.createElement("span",{className:"red-text"},e.name)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{onChange:this.onChange,autoComplete:"new-tel",variant:"outlined",label:"Contact Number",style:{width:"100%"},value:this.state.tel,error:e.tel,id:"tel",type:"text",className:K()("",{invalid:e.tel})}),s.a.createElement("span",{className:"red-text"},e.tel)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{onChange:this.onChange,autoComplete:"new-email",variant:"outlined",label:"Email",style:{width:"100%"},value:this.state.email,error:e.email,id:"email",type:"email",className:K()("",{invalid:e.email})}),s.a.createElement("span",{className:"red-text"},e.email)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{onChange:this.onChange,autoComplete:"new-password",variant:"outlined",label:"Password",style:{width:"100%"},value:this.state.password,error:e.password,id:"password",type:"password",className:K()("",{invalid:e.password})}),s.a.createElement("span",{className:"red-text"},e.password)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{onChange:this.onChange,autoComplete:"new-password2",variant:"outlined",label:"Confirm Password",style:{width:"100%"},value:this.state.password2,error:e.password2,id:"password2",type:"password",className:K()("",{invalid:e.password2})}),s.a.createElement("span",{className:"red-text"},e.password2)),s.a.createElement("div",{className:"col s12"},s.a.createElement("button",{style:{width:"100%",height:"48px"},type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-5px"}}):"Register")))))))))))}}]),t}(n.Component),bn=Object(N.b)(function(e){return{auth:e.auth,errors:e.errors}},{instructorAdminRegisterUser:function(e,t){return function(a){b.a.post(v+"/api/admin/register",e,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){return t.push("/admin/instructors")}).catch(function(e){return a({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(q.a)(fn)),yn=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),vn=a(24).API_URL,wn=window.location.href,xn=new URL(wn).searchParams.get("m"),Sn=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={delProcess:!1,disProcess:!1,eProcess:!1,loading:!1,errorOpen:!1,skeleton:!1,persons:[]},a.componentDidMount=function(){a.setState({loading:!0}),a.setState({skeleton:!0}),"suc"===xn&&a.setState({successOpen:!0}),b.a.get(vn+"/api/admin/super-admins",{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({errorOpen:!1});var t=e.data;a.setState({persons:t}),a.setState({skeleton:!1}),a.setState({loading:!1})}).catch(function(e){a.setState({errorOpen:!0}),a.setState({skeleton:!1}),a.setState({loading:!1})})},a.delUser=function(e){var t=e.target.id.substring(2);a.setState({loading:!0}),a.setState({delProcess:!0}),console.log(t),window.confirm("Are you sure you want to remove this user permanently?")&&window.confirm("Second Confirmation: Are you sure you want to remove this user permanently?")?(console.log("delete"),b.a.post(vn+"/api/admin/users/delete",{id:t},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({errorOpen:!1}),a.setState({loading:!1}),a.setState({delProcess:!1}),window.location.reload()}).catch(function(e){a.setState({errorOpen:!0}),console.log(e),a.setState({loading:!1}),a.setState({delProcess:!1})})):(a.setState({loading:!1}),a.setState({delProcess:!1}),console.log("Deletion aborted"))},a.disableUser=function(e){a.setState({loading:!0}),a.setState({disProcess:!0});var t=e.target.id.substring(2);console.log(t),window.confirm("Are you sure you want to disable this user?")?(console.log("disable"),b.a.post(vn+"/api/admin/users/disable",{id:t},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({errorOpen:!1}),console.log("disabled"),document.getElementById("d-"+t).style.display="none",document.getElementById("e-"+t).style.display="inline-block",document.getElementById("ab-"+t).style.display="none",document.getElementById("db-"+t).style.display="inline-block",a.setState({loading:!1}),a.setState({disProcess:!1})}).catch(function(e){a.setState({errorOpen:!0}),console.log(e),a.setState({loading:!1}),a.setState({disProcess:!1})})):(a.setState({loading:!1}),a.setState({disProcess:!1}),console.log("Disable aborted"))},a.enableUser=function(e){a.setState({loading:!0}),a.setState({eProcess:!0});var t=e.target.id.substring(2);console.log(t),window.confirm("Are you sure you want to enable this user?")?(console.log("enable"),b.a.post(vn+"/api/admin/users/enable",{id:t},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({errorOpen:!1}),console.log("enabled"),document.getElementById("e-"+t).style.display="none",document.getElementById("d-"+t).style.display="inline-block",document.getElementById("db-"+t).style.display="none",document.getElementById("ab-"+t).style.display="inline-block",a.setState({errorOpen:!1}),a.setState({loading:!1}),a.setState({eProcess:!1})}).catch(function(e){a.setState({errorOpen:!0}),console.log(e),a.setState({loading:!0}),a.setState({eProcess:!0})})):(a.setState({loading:!0}),a.setState({eProcess:!0}),console.log("Enable aborted"))},a.handleClose=function(){a.setState({errorOpen:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.auth.user;if(3===t.role)return s.a.createElement(z.a,{to:"/all-courses"});if(2===t.role)return s.a.createElement(z.a,{to:"/instructor"});var a=[];return this.state.persons.map(function(t){return a.push({name:1===t.status?s.a.createElement("div",null,s.a.createElement("span",{id:"ab-"+t._id},t.name,"\xa0",s.a.createElement("span",{className:"badge badge-success"},"Active")),s.a.createElement("span",{id:"db-"+t._id,style:{display:"none"}},t.name,"\xa0",s.a.createElement("span",{className:"badge badge-danger"},"Disabled"))):s.a.createElement("div",null,s.a.createElement("span",{id:"db-"+t._id},t.name,"\xa0",s.a.createElement("span",{className:"badge badge-danger"},"Disabled")),s.a.createElement("span",{id:"ab-"+t._id,style:{display:"none"}},t.name,"\xa0",s.a.createElement("span",{className:"badge badge-success"},"Active"))),email:t.email,tel:t.tel,actions:s.a.createElement("div",{className:"muiDt"},s.a.createElement("a",{href:"/admin/users/edit/"+t._id,className:"btn btn-full-blue btn-tbl-action"},"Edit"),1===t.status?s.a.createElement("div",{style:{display:"inline-block"}},s.a.createElement("button",{className:"btn btn-full-warn btn-tbl-action",id:"d-"+t._id,style:{display:"inline-block"},onClick:e.disableUser},"Disable"),s.a.createElement("button",{className:"btn btn-full-blue btn-tbl-action",id:"e-"+t._id,style:{display:"none"},onClick:e.enableUser},"Enable")):s.a.createElement("div",{style:{display:"inline-block"}},s.a.createElement("button",{className:"btn btn-full-blue btn-tbl-action",id:"e-"+t._id,style:{display:"inline-block"},onClick:e.enableUser},"Enable"),s.a.createElement("button",{className:"btn btn-full-warn btn-tbl-action",id:"d-"+t._id,style:{display:"none"},onClick:e.disableUser},"Disable")),s.a.createElement("button",{className:"btn btn-full-red btn-tbl-action",id:"r-"+t._id,onClick:e.delUser},"Remove"))})}),s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(we.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(yn,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement(be.a,{to:"/admin",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("h4",null,"Super Admins"))),s.a.createElement("div",{style:{width:"100%"},className:"con-right"},s.a.createElement("a",{href:"/admin/super-admins/new",style:{width:"150px"},className:"btn btn-full-blue"},"+ New admin")),!0===this.state.skeleton?s.a.createElement("div",{className:"form-box",style:{width:"100%",marginTop:"50px",height:"400px"}},s.a.createElement("div",{className:"form-inner",style:{padding:"10px",height:"100%"}},s.a.createElement("div",{style:{width:"100%",height:"100%"},className:"con-mid"},s.a.createElement(xe.a,null)))):s.a.createElement("div",{className:"form-box",style:{width:"100%",marginTop:"50px"}},s.a.createElement("div",{className:"form-inner",style:{padding:"10px"}},s.a.createElement(ve.a,{title:"Users",data:a,columns:[{name:"name",label:"Name",options:{filter:!0,sort:!0}},{name:"tel",label:"Tel",options:{filter:!0,sort:!1}},{name:"email",label:"Email",options:{filter:!0,sort:!0}},{name:"actions",label:"Actions",options:{filter:!1,sort:!1}}],options:{search:!0,paging:!1,filtering:!0,exportButton:!0,selectableRows:!1}})))))))}}]),t}(n.Component),Nn=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(Sn),kn=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){e.setState(Object(Z.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){e.setState({process:!0}),t.preventDefault();var a={name:e.state.name,tel:e.state.tel,email:e.state.email,role_req:1,password:e.state.password,password2:e.state.password2};e.props.adminRegisterUser(a,e.props.history)},e.state={name:"",tel:"",email:"",password:"",password2:"",process:!1,errors:{}},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.errors&&(this.setState({process:!1}),this.setState({errors:e.errors}))}},{key:"render",value:function(){var e=this.state.errors;return s.a.createElement("div",{className:"mother"},!0===this.state.process?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s8 offset-s2"},s.a.createElement("div",{id:"head-topic",style:{marginTop:"64px"}},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement(be.a,{to:"/admin/super-admins",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("h4",null,"Register Super Admins"))),s.a.createElement("div",{className:"login-card form-card con-mid",style:{minHeight:"inherit"}},s.a.createElement("div",{className:"form-box",style:{marginBottom:"50px"}},s.a.createElement("div",{className:"form-inner"},s.a.createElement("div",{className:"col s12",style:{marginBottom:"24px"}},s.a.createElement("h4",null,"Add New Super Admin")),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{onChange:this.onChange,value:this.state.name,variant:"outlined",autoComplete:"new-name",label:"Name",error:e.name,id:"name",type:"text",style:{width:"100%"},className:K()("",{invalid:e.name})}),s.a.createElement("span",{className:"red-text"},e.name)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{onChange:this.onChange,value:this.state.tel,error:e.tel,id:"tel",variant:"outlined",autoComplete:"new-tel",label:"Contact number",style:{width:"100%"},type:"text",className:K()("",{invalid:e.tel})}),s.a.createElement("span",{className:"red-text"},e.tel)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",variant:"outlined",autoComplete:"new-email",label:"Email",style:{width:"100%"},type:"email",className:K()("",{invalid:e.email})}),s.a.createElement("span",{className:"red-text"},e.email)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",variant:"outlined",autoComplete:"new-password",label:"Password",style:{width:"100%"},type:"password",className:K()("",{invalid:e.password})}),s.a.createElement("span",{className:"red-text"},e.password)),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(X.a,{onChange:this.onChange,value:this.state.password2,error:e.password2,id:"password2",variant:"outlined",autoComplete:"new-password2",label:"Confirm Password",style:{width:"100%"},type:"password",className:K()("",{invalid:e.password2})}),s.a.createElement("span",{className:"red-text"},e.password2)),s.a.createElement("div",{className:"col s12"},s.a.createElement("button",{style:{width:"100%",height:"48px"},type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-5px"}}):"Register")))))))))))}}]),t}(n.Component),Cn=Object(N.b)(function(e){return{auth:e.auth,errors:e.errors}},{adminRegisterUser:function(e,t){return function(a){b.a.post(v+"/api/admin/register",e,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){return t.push("/admin/super-admins")}).catch(function(e){return a({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(q.a)(kn)),On=a(24).API_URL,jn=window.location.pathname.split("/").pop(),Tn=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={loading:!1,payments:[],courses:[]},a.componentDidMount=function(){a.setState({loading:!0}),b.a.get(On+"/api/admin/payment?id="+jn,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){var t=e.data;a.setState({payments:t}),a.setState({loading:!1})}).catch(function(e){a.setState({loading:!1},function(){})}),b.a.get(On+"/api/admin/payment/view?id="+a.state.payments.map(function(e){return e.file}),{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){var t=e.data[0];a.setState({courses:t})}).catch(function(e){a.setState({loading:!1},function(){})})},a.closeWindow=function(){window.close()},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):2===e.role?s.a.createElement(z.a,{to:"/instructor"}):s.a.createElement("div",null,s.a.createElement("div",{className:"paymentView-controls con-left",style:{marginTop:"10px"}},s.a.createElement("span",{className:"close-btn",onClick:this.closeWindow},s.a.createElement("i",{className:"material-icons-outlined btn-icon",style:{padding:"7px",backgroundColor:"rgba(0,0,0,0)!important"}},"highlight_off"))),s.a.createElement("div",{className:"paymentView con-mid"},!0===this.state.loading?s.a.createElement("div",{style:{width:"100%",height:"calc(100% - 58px)"},className:"con-mid"},s.a.createElement(xe.a,{style:{color:"#ffffff"}})):s.a.createElement("img",{alt:"Payment Slip",style:{margin:"20px"},src:On+"/public/"+this.state.payments.map(function(e){return e.file})})))}}]),t}(n.Component),An=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(Tn),In=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),Pn=a(24).API_URL,Bn=window.location.pathname.split("/").pop(),Dn=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={paymentStatus:[],skeleton:!1,courseFee:"",loading:!1,errorOpen:!1,courses:[],process:!1,errors:{}},a.componentDidMount=function(){a.setState({skeleton:!0}),a.setState({loading:!0}),b.a.get(Pn+"/api/u/course?course="+Bn,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({skeleton:!1});var t=e.data;a.setState({courses:t}),console.log(t[0].fee);var n=t[0].fee;a.setState({courseFee:n})}).catch(function(e){a.setState({skeleton:!1},function(){})}),b.a.get(Pn+"/api/u/payment-check?course="+Bn,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({loading:!1});var t=e.data;console.log(t),a.setState({paymentStatus:t})}).catch(function(e){a.setState({loading:!1},function(){})})},a.onSubmit=function(e){a.setState({process:!0});var t=new FormData;t.append("course",Bn),t.append("slip",document.getElementById("slip").files[0]),b.a.post(Pn+"/api/u/payment",t,{headers:{"Content-Type":"multipart/form-data","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){console.log("saved"),a.setState({errorOpen:!1}),a.setState({process:!1}),window.location.href="/course-payment-pending/"+Bn}).catch(function(e){console.log(e),a.setState({process:!1});var t=e.response.data;console.log(t),a.setState({errors:t},function(){}),a.setState({errorOpen:!0})}),e.preventDefault()},a.handleClose=function(){a.setState({errorOpen:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=this.state.errors;if(1===e.role)return s.a.createElement(z.a,{to:"/admin"});if(2===e.role)return s.a.createElement(z.a,{to:"/instructor"});var a=this.state.paymentStatus.map(function(e){return e.status});return 0===a[0]?s.a.createElement(z.a,{to:"/course-payment-pending/"+Bn}):1===a[0]?s.a.createElement(z.a,{to:"/course/"+Bn+"?t="}):0===this.state.courseFee?s.a.createElement(z.a,{to:"/course/"+Bn+"?t="}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement("div",{id:"cover",style:{width:"100vw",zIndex:"10000000000000000000000000",height:"100vh",position:"fixed",margin:"0px",padding:"0px",backgroundColor:"#ffffff"},className:"con-mid"},s.a.createElement(xe.a,null)):"",!0===this.state.skeleton||!0===this.state.process?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(In,{severity:"error",sx:{width:"100%"}},"The file size should be less than 5MB")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("a",{href:"/all-courses",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("h4",null,"Payment"))),s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"30px 0"}},s.a.createElement("div",{className:"form-box"},s.a.createElement("div",{className:"form-inner"},s.a.createElement("div",{className:"col s12"},s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(De.a,{variant:"h4"},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%"}}):s.a.createElement("h4",null,this.state.courses.map(function(e){return e.name}))),s.a.createElement(De.a,{variant:"p"},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%"}}):s.a.createElement("p",{style:{textAlign:"justify",fontSize:"14px",padding:"10px 0 0 0"}},this.state.courses.map(function(e){return e.summary}))),s.a.createElement(De.a,{variant:"p"},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%"}}):s.a.createElement("p",{style:{textAlign:"justify",fontSize:"14px",padding:"10px 0 0 0"}},"Course Fee: ",s.a.createElement("b",null,this.state.courses.map(function(e){return"LKR "+e.fee.toString().split(".")[0].replace(/\B(?=(\d{3})+(?!\d))/g,",")+".00"})))),s.a.createElement("p",{style:{textAlign:"justify",fontSize:"14px",padding:"0 0 10px 0"}},"Please upload an image of your valid",s.a.createElement("b",null," bank deposit slip")," from below. (Only ",s.a.createElement("b",null,"JPEG, JPG and PNG")," files are allowed.)")),s.a.createElement("form",{onSubmit:this.onSubmit,method:"POST",encType:"multipart/form-data"},s.a.createElement("div",{className:"col s12"},s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement("input",{accept:"image/JPG, image/PNG, image/JPEG",id:"slip",style:{width:"280px"},className:"custom-file-input",name:"slip",required:!0,type:"file"})),s.a.createElement("div",{style:{width:"100%"},className:"con-mid"},s.a.createElement("span",{className:"red-text",style:{marginBottom:"24px",textAlign:"center"}},t.file)),s.a.createElement("button",{style:{width:"150px",height:"35px"},type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(xe.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Submit")))))))))))}}]),t}(n.Component),_n=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(Dn),Rn=a(24).API_URL,Ln=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),Un=window.location.pathname.split("/").pop(),Hn=(new Date).toISOString(),zn=window.location.href,Mn=new URL(zn).searchParams.get("t"),Vn=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={thisLesson:"",errorOpen:!1,loading:!1,topicLoading:!1,zoomStart:"",paymentStatus:[],courses:[],lessons:[],topics:[],topicValue:Mn,topicId:[],firstTopic:[],displayTopic:[],errors:{}},a.componentDidMount=function(){a.setState({topicLoading:!0}),a.setState({loading:!0}),b.a.get(Rn+"/api/u/m-course?course="+Un,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){var t=e.data;a.setState({courses:t});var n=t[0].zoomStart,s=new Date(n),o=String(s);a.setState({zoomStart:o})}).catch(function(e){a.setState({loading:!1},function(){})}),b.a.get(Rn+"/api/u/lessons?course="+Un,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){var t=e.data;a.setState({lessons:t})}).catch(function(e){a.setState({loading:!1},function(){})}),b.a.get(Rn+"/api/u/topics/first?course="+Un,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){var t=e.data;a.setState({firstTopic:t})}).catch(function(e){a.setState({loading:!1},function(){})}),b.a.get(Rn+"/api/u/topics?course="+Un,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({topicLoading:!1});var t=e.data;a.setState({topics:t}),a.setState({loading:!1})}).catch(function(e){a.setState({topicLoading:!1}),a.setState({loading:!1},function(){})}),b.a.get(Rn+"/api/u/payment-check?course="+Un,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){var t=e.data;t[0].status,a.setState({paymentStatus:t})}).catch(function(e){a.setState({loading:!1},function(){})}),b.a.get(Rn+"/api/u/topic?course="+Un+"&topic="+Mn,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({errorOpen:!1});var t=e.data;console.log(t);var n=t[0].lesson;a.setState({thisLesson:n}),a.setState({displayTopic:t}),a.setState({loading:!1})}).catch(function(e){a.setState({errorOpen:!0}),a.setState({loading:!1},function(){})})},a.onSubmit=function(e){var t={course:a.state.course,file:a.state.file};b.a.post(Rn+"/api/u/payment",t,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){console.log("saved"),window.location.href="/course-payment-pending/"+Un}).catch(function(e){console.log(e)}),e.preventDefault()},a.handleClose=function(){a.setState({successOpen:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.auth.user;return 1===t.role?s.a.createElement(z.a,{to:"/admin"}):2===t.role?s.a.createElement(z.a,{to:"/instructor"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Ln,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),Mn?s.a.createElement("div",{className:"main-tv",id:"thisTopic2"},s.a.createElement("div",{style:{height:"100%"},className:"con-mid"},!0===this.state.loading?s.a.createElement(xe.a,null):s.a.createElement("iframe",{className:"tv-iframe",src:this.state.displayTopic.map(function(e){return e.video}),frameBorder:0,allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0,title:this.state.displayTopic.map(function(e){return e.topic})}))):s.a.createElement("div",{className:"main-tv",id:"courseWelcome"},s.a.createElement("div",{className:"con-mid",style:{height:"100%",padding:"20px"}},s.a.createElement(De.a,{variant:"h4"},!0===this.state.loading?s.a.createElement(V.a,{style:{width:"280px"}}):this.state.courses.map(function(e){return s.a.createElement("h4",null,e.name)})),!0===this.state.loading?s.a.createElement(V.a,{style:{width:"280px",height:"200px"}}):this.state.courses.map(function(e){return s.a.createElement("p",{className:"courseSummary"},e.summary)}),!0===this.state.loading?s.a.createElement(V.a,{style:{width:"150px",height:"35px"}}):s.a.createElement("a",{href:"/course/"+Un+"?t="+this.state.firstTopic,className:"btn btn-full-blue"},"Start"))),s.a.createElement("div",{className:"side-nav split"},s.a.createElement("div",{className:"player"},s.a.createElement("div",{id:"thisTopic"},s.a.createElement(De.a,{variant:"h4"},!0===this.state.loading?s.a.createElement(V.a,{style:{width:"200px"}}):this.state.courses.map(function(e){return s.a.createElement("h4",null,e.name)})),!0===this.state.loading?s.a.createElement("div",{className:"zoomLink"},s.a.createElement("div",{className:"zoom-box zoom-live con-right"},s.a.createElement(V.a,{style:{width:"150px",height:"35px"}}))):this.state.courses.map(function(t){return s.a.createElement("div",{className:"zoomLink"},Hn<=e.state.courses.map(function(e){return e.zoomEnd})?e.state.courses.map(function(e){return e.zoomStart})<=Hn?s.a.createElement("div",{className:"zoom-box zoom-live con-right"},s.a.createElement("a",{href:t.zoom,rel:"noopener noreferrer",target:"_blank",className:"btn btn-full-red con-mid",title:"Link"},"Live Zoom")):s.a.createElement("div",{className:"zoom-box zoom-live con-right"},s.a.createElement("a",{href:t.zoom,target:"_blank",rel:"noopener noreferrer",className:"btn btn-full-warn con-mid",title:"Link"},"Upcoming Zoom"),s.a.createElement("div",{style:{marginTop:"10px"}},s.a.createElement("p",{style:{fontSize:"11px"}},e.state.zoomStart))):"")}),Mn?this.state.displayTopic.map(function(e){return s.a.createElement("p",null,e.topic)}):"")),s.a.createElement("br",null),s.a.createElement("div",{className:"col s12"},s.a.createElement("div",null,this.state.topicLoading?s.a.createElement(V.a,{style:{width:"100%",height:"300px"}}):s.a.createElement("div",{className:"accordion",id:"accordionExample"},this.state.lessons.map(function(t){return s.a.createElement("div",{className:"accordion-item"},e.state.thisLesson===t._id?s.a.createElement("p",{className:"accordion-header",id:"heading"+t._id},s.a.createElement("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+t._id,"aria-expanded":"true","aria-controls":"collapse"+t._id},s.a.createElement("b",null,t.lesson),s.a.createElement("span",{style:{marginLeft:"5px",color:"#46505A",fontSize:"10px"}},"\u25b6"))):s.a.createElement("p",{className:"accordion-header",id:"heading"+t._id},s.a.createElement("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+t._id,"aria-expanded":"true","aria-controls":"collapse"+t._id},t.lesson)),e.state.thisLesson===t._id?s.a.createElement("div",{id:"collapse"+t._id,className:"accordion-collapse collapse show","aria-labelledby":"heading"+t._id,"data-bs-parent":"#accordionExample"},s.a.createElement("div",{className:"accordion-body"},s.a.createElement("ul",null,e.state.topics.map(function(a){return t._id===a.lesson?s.a.createElement("li",{className:"accordion-li",key:a._id},e.state.topicValue===a._id?s.a.createElement("a",{className:"accordion-a",style:{textDecoration:"none"},href:"/course/"+Un+"?t="+a._id},s.a.createElement("span",{id:"span"+a._id,className:"topicsList",style:{fontWeight:"700",color:"#007FFF"}},a.topic),s.a.createElement("span",{style:{marginLeft:"5px",color:"#007FFF",fontSize:"10px"}},"\u25b6")):s.a.createElement("a",{className:"accordion-a",style:{textDecoration:"none"},href:"/course/"+Un+"?t="+a._id},a.topic)):""})))):s.a.createElement("div",{id:"collapse"+t._id,className:"accordion-collapse collapse","aria-labelledby":"heading"+t._id,"data-bs-parent":"#accordionExample"},s.a.createElement("div",{className:"accordion-body"},s.a.createElement("ul",null,e.state.topics.map(function(e){return t._id===e.lesson?s.a.createElement("li",{className:"accordion-li",key:e._id},s.a.createElement("a",{className:"accordion-a",style:{textDecoration:"none"},href:"/course/"+Un+"?t="+e._id},e.topic)):""})))))})),s.a.createElement("div",{style:{width:"100%",margin:"20px 0"}},s.a.createElement("p",{style:{fontSize:"12px"}},"Powered by ",s.a.createElement("a",{href:"https://www.coduza.com",style:{textDecoration:"none"},target:"_blank",rel:"noopener noreferrer"},"CODUZA")))))))}}]),t}(n.Component),Fn=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(Vn),Wn=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),Gn=a(24).API_URL,Zn=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={curPassword:"",password:"",confirmPassword:"",process:!1,successOpen:!1,errorOpen:!1,loading:!1,courses:[],errors:{}},a.componentDidMount=function(){},a.onChange=function(e){a.setState(Object(Z.a)({},e.target.id,e.target.value))},a.onSubmit=function(e){a.setState({loading:!0}),a.setState({process:!0});var t={curPassword:a.state.curPassword,password:a.state.password,confirmPassword:a.state.confirmPassword};b.a.post(Gn+"/api/admin/settings/password",t,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({errors:{}}),a.setState({loading:!1}),a.setState({process:!1}),a.setState({errorOpen:!1}),a.setState({successOpen:!0}),a.setState({curPassword:""}),a.setState({password:""}),a.setState({confirmPassword:""})}).catch(function(e){a.setState({loading:!1}),a.setState({process:!1});var t=e.response.data;console.log(t),a.setState({errors:t}),t.internalError&&(a.setState({successOpen:!1}),a.setState({errorOpen:!0}))}),e.preventDefault()},a.handleClose=function(){a.setState({successOpen:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=this.state.errors;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):2===e.role?s.a.createElement(z.a,{to:"/instructor"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.successOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Wn,{severity:"success",sx:{width:"100%"}},"Password updated successfully!")),s.a.createElement(je.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Wn,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("a",{href:"/admin",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}}),s.a.createElement("div",{style:{display:"inline-block",float:"right"}})),s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"30px 0"}},s.a.createElement("div",{className:"form-box"},s.a.createElement("div",{className:"form-inner"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{style:{marginBottom:"19px"}},s.a.createElement("h4",{style:{textAlign:"left",marginBottom:"24px"}},"Change password"),s.a.createElement(X.a,{id:"curPassword",variant:"outlined",label:"Current Password",type:"password",onChange:this.onChange,value:this.state.curPassword,autoComplete:"off",style:{width:"100%"},error:t.curPassword,className:K()("",{invalid:t.curPassword})}),s.a.createElement("span",{className:"red-text"},t.curPassword)),s.a.createElement("div",{style:{marginBottom:"19px"}},s.a.createElement(X.a,{id:"password",variant:"outlined",label:"New Password",type:"password",onChange:this.onChange,value:this.state.password,autoComplete:"off",style:{width:"100%"},error:t.password,className:K()("",{invalid:t.password})}),s.a.createElement("span",{className:"red-text"},t.password)),s.a.createElement("div",{style:{marginBottom:"19px"}},s.a.createElement(X.a,{id:"confirmPassword",variant:"outlined",label:"Confirm New Password",type:"password",onChange:this.onChange,value:this.state.confirmPassword,autoComplete:"off",style:{width:"100%"},error:t.confirmPassword,className:K()("",{invalid:t.confirmPassword})}),s.a.createElement("span",{className:"red-text"},t.confirmPassword)),s.a.createElement("div",null,s.a.createElement("button",{style:{width:"150px",height:"35px"},type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Update"))))))))))}}]),t}(n.Component),qn=Object(N.b)(function(e){return{auth:e.auth,errors:e.errors}},{logoutUser:S})(Zn),Jn=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),Kn=a(24).API_URL,Xn=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={curPassword:"",password:"",confirmPassword:"",process:!1,successOpen:!1,errorOpen:!1,loading:!1,courses:[],errors:{}},a.componentDidMount=function(){},a.onChange=function(e){a.setState(Object(Z.a)({},e.target.id,e.target.value))},a.onSubmit=function(e){a.setState({loading:!0}),a.setState({process:!0});var t={curPassword:a.state.curPassword,password:a.state.password,confirmPassword:a.state.confirmPassword};b.a.post(Kn+"/api/instructor/settings/password",t,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({errors:{}}),a.setState({loading:!1}),a.setState({process:!1}),a.setState({errorOpen:!1}),a.setState({successOpen:!0}),a.setState({curPassword:""}),a.setState({password:""}),a.setState({confirmPassword:""})}).catch(function(e){a.setState({loading:!1}),a.setState({process:!1});var t=e.response.data;console.log(t),a.setState({errors:t}),t.internalError&&(a.setState({successOpen:!1}),a.setState({errorOpen:!0}))}),e.preventDefault()},a.handleClose=function(){a.setState({successOpen:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=this.state.errors;return 3===e.role?s.a.createElement(z.a,{to:"/all-courses"}):1===e.role?s.a.createElement(z.a,{to:"/admin"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.successOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Jn,{severity:"success",sx:{width:"100%"}},"Password updated successfully!")),s.a.createElement(je.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(Jn,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("a",{href:"/instructor",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}}),s.a.createElement("div",{style:{display:"inline-block",float:"right"}})),s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"30px 0"}},s.a.createElement("div",{className:"form-box"},s.a.createElement("div",{className:"form-inner"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{style:{marginBottom:"19px"}},s.a.createElement("h4",{style:{textAlign:"left",marginBottom:"24px"}},"Change password"),s.a.createElement(X.a,{id:"curPassword",variant:"outlined",label:"Current Password",type:"password",onChange:this.onChange,value:this.state.curPassword,autoComplete:"off",style:{width:"100%"},error:t.curPassword,className:K()("",{invalid:t.curPassword})}),s.a.createElement("span",{className:"red-text"},t.curPassword)),s.a.createElement("div",{style:{marginBottom:"19px"}},s.a.createElement(X.a,{id:"password",variant:"outlined",label:"New Password",type:"password",onChange:this.onChange,value:this.state.password,autoComplete:"off",style:{width:"100%"},error:t.password,className:K()("",{invalid:t.password})}),s.a.createElement("span",{className:"red-text"},t.password)),s.a.createElement("div",{style:{marginBottom:"19px"}},s.a.createElement(X.a,{id:"confirmPassword",variant:"outlined",label:"Confirm New Password",type:"password",onChange:this.onChange,value:this.state.confirmPassword,autoComplete:"off",style:{width:"100%"},error:t.confirmPassword,className:K()("",{invalid:t.confirmPassword})}),s.a.createElement("span",{className:"red-text"},t.confirmPassword)),s.a.createElement("div",null,s.a.createElement("button",{style:{width:"150px",height:"35px"},type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Update"))))))))))}}]),t}(n.Component),Yn=Object(N.b)(function(e){return{auth:e.auth,errors:e.errors}},{logoutUser:S})(Xn),$n=s.a.forwardRef(function(e,t){return s.a.createElement(Se.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}),Qn=a(24).API_URL,es=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={curPassword:"",password:"",confirmPassword:"",process:!1,successOpen:!1,errorOpen:!1,loading:!1,courses:[],errors:{}},a.componentDidMount=function(){},a.onChange=function(e){a.setState(Object(Z.a)({},e.target.id,e.target.value))},a.onSubmit=function(e){a.setState({loading:!0}),a.setState({process:!0});var t={curPassword:a.state.curPassword,password:a.state.password,confirmPassword:a.state.confirmPassword};b.a.post(Qn+"/api/u/settings/password",t,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){a.setState({errors:{}}),a.setState({loading:!1}),a.setState({process:!1}),a.setState({errorOpen:!1}),a.setState({successOpen:!0}),a.setState({curPassword:""}),a.setState({password:""}),a.setState({confirmPassword:""})}).catch(function(e){a.setState({loading:!1}),a.setState({process:!1});var t=e.response.data;console.log(t),a.setState({errors:t}),t.internalError&&(a.setState({successOpen:!1}),a.setState({errorOpen:!0}))}),e.preventDefault()},a.handleClose=function(){a.setState({successOpen:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=this.state.errors;return 1===e.role?s.a.createElement(z.a,{to:"/admin"}):2===e.role?s.a.createElement(z.a,{to:"/instructor"}):s.a.createElement("div",{className:"mother"},!0===this.state.loading?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement(je.a,{open:this.state.successOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement($n,{severity:"success",sx:{width:"100%"}},"Password updated successfully!")),s.a.createElement(je.a,{open:this.state.errorOpen,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement($n,{severity:"error",sx:{width:"100%"}},"Network error occurred!")),s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("a",{href:"/all-courses",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}}),s.a.createElement("div",{style:{display:"inline-block",float:"right"}})),s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"30px 0"}},s.a.createElement("div",{className:"form-box"},s.a.createElement("div",{className:"form-inner"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{style:{marginBottom:"19px"}},s.a.createElement("h4",{style:{textAlign:"left",marginBottom:"24px"}},"Change password"),s.a.createElement(X.a,{id:"curPassword",variant:"outlined",label:"Current Password",type:"password",onChange:this.onChange,value:this.state.curPassword,autoComplete:"off",style:{width:"100%"},error:t.curPassword,className:K()("",{invalid:t.curPassword})}),s.a.createElement("span",{className:"red-text"},t.curPassword)),s.a.createElement("div",{style:{marginBottom:"19px"}},s.a.createElement(X.a,{id:"password",variant:"outlined",label:"New Password",type:"password",onChange:this.onChange,value:this.state.password,autoComplete:"off",style:{width:"100%"},error:t.password,className:K()("",{invalid:t.password})}),s.a.createElement("span",{className:"red-text"},t.password)),s.a.createElement("div",{style:{marginBottom:"19px"}},s.a.createElement(X.a,{id:"confirmPassword",variant:"outlined",label:"Confirm New Password",type:"password",onChange:this.onChange,value:this.state.confirmPassword,autoComplete:"off",style:{width:"100%"},error:t.confirmPassword,className:K()("",{invalid:t.confirmPassword})}),s.a.createElement("span",{className:"red-text"},t.confirmPassword)),s.a.createElement("div",null,s.a.createElement("button",{style:{width:"150px",height:"35px"},type:"submit",className:"btn btn-full-blue"},!0===this.state.process?s.a.createElement(Y.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Update"))))))))))}}]),t}(n.Component),ts=Object(N.b)(function(e){return{auth:e.auth,errors:e.errors}},{logoutUser:S})(es),as=a(24).API_URL,ns=window.location.pathname.split("/").pop(),ss=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={courses:[],skeleton:!1,process:!1,paymentStatus:[]},a.componentDidMount=function(){a.setState({skeleton:!0}),b.a.get(as+"/api/u/course?course="+ns,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){var t=e.data;a.setState({skeleton:!1}),a.setState({courses:t})}).catch(function(e){a.setState({skeleton:!1}),a.setState({loading:!1},function(){})}),b.a.get(as+"/api/u/payment-check?course="+ns,{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){var t=e.data;a.setState({paymentStatus:t})}).catch(function(e){a.setState({loading:!1},function(){})})},a.reload=function(e){window.location.reload()},a.onSubmitDel=function(e){window.confirm("Are you sure you want to cancel the payment information?")?(console.log("del"),a.setState({process:!0}),b.a.post(as+"/api/u/delete-payment",{course:ns,image:a.state.paymentStatus[0]},{headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("jwtToken")}}).then(function(e){console.log("deleted"),a.setState({process:!1}),window.location.href="/course-payment/"+ns}).catch(function(e){a.setState({process:!1}),console.log(e)})):console.log("Cancellation aborted"),e.preventDefault()},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.auth.user;return 1===e.role?s.a.createElement(z.a,{to:"/admin"}):2===e.role?s.a.createElement(z.a,{to:"/instructor"}):1===this.state.paymentStatus.map(function(e){return e.status})[0]?s.a.createElement(z.a,{to:"/course/"+ns+"?t="}):s.a.createElement("div",{className:"mother"},!0===this.state.skeleton||!0===this.state.process?s.a.createElement(M.a,{style:{zIndex:"1000000"}}):"",s.a.createElement("div",{className:"container valign-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"landing-copy col s12 center-align"},s.a.createElement("div",{id:"head-topic"},s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("a",{href:"/all-courses",className:"btn icon-master-btn con-mid",style:{marginTop:"10px"}},s.a.createElement("i",{className:"material-icons-outlined btn-icon"},"arrow_back"))),s.a.createElement("div",{style:{display:"inline-block",marginRight:"10px"}},s.a.createElement("h4",null,"Pending Payment"))),s.a.createElement("div",{className:"con-mid",style:{width:"100%",margin:"30px 0"}},s.a.createElement("div",{className:"form-box"},s.a.createElement("div",{className:"form-inner"},s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement(De.a,{variant:"h4"},!0===this.state.skeleton?s.a.createElement(V.a,{style:{width:"100%"}}):this.state.courses.map(function(e){return s.a.createElement("h4",{key:e.name},e.name)})),s.a.createElement("p",null,"Payment pending...")),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement("button",{style:{width:"150px"},onClick:this.reload,className:"btn btn-full-blue"},"Check now")),s.a.createElement("div",{style:{marginBottom:"24px"}},s.a.createElement("button",{style:{width:"150px",height:"35px"},onClick:this.onSubmitDel,className:"btn btn-full-red"},!0===this.state.process?s.a.createElement(xe.a,{style:{color:"#ffffff",padding:"10px",marginTop:"-10px"}}):"Cancel payment")))))))))}}]),t}(n.Component),os=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:S})(ss);a(633);if(localStorage.jwtToken){var ls=localStorage.jwtToken;y(ls);var rs=E()(ls);B.dispatch(x(rs));var is=Date.now()/1e3;rs.exp<is&&(B.dispatch(S()),window.location.href="./login")}var cs=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(N.a,{store:B},s.a.createElement(p.a,null,s.a.createElement("div",{className:"App"},s.a.createElement(L,null),s.a.createElement(u.a,{exact:!0,path:"/",component:H}),s.a.createElement(u.a,{exact:!0,path:"/all-courses",component:G}),s.a.createElement(u.a,{exact:!0,path:"/register",component:Q}),s.a.createElement(u.a,{exact:!0,path:"/login",component:te}),s.a.createElement(u.a,{exact:!0,path:"/forgot",component:ne}),s.a.createElement(u.a,{exact:!0,path:"/forgot-success",component:oe}),s.a.createElement(u.a,{exact:!0,path:"/forgot-change-password",component:ie}),s.a.createElement(h.a,null,s.a.createElement(ge,{exact:!0,path:"/dashboard",component:fe}),s.a.createElement(ge,{exact:!0,path:"/instructor",component:ue}),s.a.createElement(ge,{exact:!0,path:"/admin",component:de}),s.a.createElement(ge,{exact:!0,path:"/admin/users",component:Oe}),s.a.createElement(ge,{exact:!0,path:"/admin/users/edit/:id",component:Be}),s.a.createElement(ge,{exact:!0,path:"/admin/users/payments",component:on}),s.a.createElement(ge,{exact:!0,path:"/admin/users/approved-payments",component:mn}),s.a.createElement(ge,{exact:!0,path:"/admin/users/payments/view/:id",component:An}),s.a.createElement(ge,{exact:!0,path:"/admin/instructors/assign/:id",component:He}),s.a.createElement(ge,{exact:!0,path:"/admin/homepage/",component:Fe}),s.a.createElement(ge,{exact:!0,path:"/admin/past/new",component:qe}),s.a.createElement(ge,{exact:!0,path:"/admin/team/new",component:Ye}),s.a.createElement(ge,{exact:!0,path:"/admin/past/edit/:id",component:nt}),s.a.createElement(ge,{exact:!0,path:"/admin/team/edit/:id",component:it}),s.a.createElement(ge,{exact:!0,path:"/admin/instructors",component:En}),s.a.createElement(ge,{exact:!0,path:"/admin/instructors/new",component:bn}),s.a.createElement(ge,{exact:!0,path:"/admin/super-admins",component:Nn}),s.a.createElement(ge,{exact:!0,path:"/admin/super-admins/new",component:Cn}),s.a.createElement(ge,{exact:!0,path:"/admin/zoom/:id",component:la}),s.a.createElement(ge,{exact:!0,path:"/admin/courses",component:ht}),s.a.createElement(ge,{exact:!0,path:"/admin/courses/new",component:bt}),s.a.createElement(ge,{exact:!0,path:"/admin/courses/edit/:id",component:St}),s.a.createElement(ge,{exact:!0,path:"/admin/lessons/:id",component:At}),s.a.createElement(ge,{exact:!0,path:"/admin/lessons/new/:id",component:_t}),s.a.createElement(ge,{exact:!0,path:"/admin/lessons/edit/:id",component:Gt}),s.a.createElement(ge,{exact:!0,path:"/admin/topics/new/:id",component:zt}),s.a.createElement(ge,{exact:!0,path:"/admin/topics/edit/:id",component:Xt}),s.a.createElement(ge,{exact:!0,path:"/admin/topics/video/:id",component:ta}),s.a.createElement(ge,{exact:!0,path:"/instructor/zoom/:id",component:tn}),s.a.createElement(ge,{exact:!0,path:"/instructor/courses",component:ca}),s.a.createElement(ge,{exact:!0,path:"/instructor/courses/new",component:ua}),s.a.createElement(ge,{exact:!0,path:"/instructor/courses/edit/:id",component:ba}),s.a.createElement(ge,{exact:!0,path:"/instructor/lessons/:id",component:ka}),s.a.createElement(ge,{exact:!0,path:"/instructor/lessons/new/:id",component:Aa}),s.a.createElement(ge,{exact:!0,path:"/instructor/lessons/edit/:id",component:za}),s.a.createElement(ge,{exact:!0,path:"/instructor/topics/new/:id",component:_a}),s.a.createElement(ge,{exact:!0,path:"/instructor/topics/edit/:id",component:Ga}),s.a.createElement(ge,{exact:!0,path:"/instructor/topics/video/:id",component:Xa}),s.a.createElement(ge,{exact:!0,path:"/admin/settings/password/",component:qn}),s.a.createElement(ge,{exact:!0,path:"/instructor/settings/password/",component:Yn}),s.a.createElement(ge,{exact:!0,path:"/user/settings/password/",component:ts}),s.a.createElement(ge,{exact:!0,path:"/course-payment/:id",component:_n}),s.a.createElement(ge,{exact:!0,path:"/course-payment-pending/:id",component:os}),s.a.createElement(ge,{exact:!0,path:"/course/:id",component:Fn})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(cs,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[330,2,1]]]);
//# sourceMappingURL=main.7e37d0d4.chunk.js.map